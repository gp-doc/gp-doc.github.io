"use strict";(self.webpackChunkgp_doc_github_io=self.webpackChunkgp_doc_github_io||[]).push([[678],{1172:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var r=a(6070),l=a(5710);const s={sidebar_position:3},i="\u67e5\u8be2(query)",o={id:"tutorial/query",title:"\u67e5\u8be2(query)",description:"\u5feb\u901f\u6d4f\u89c8\u67e5\u8be2\u793a\u4f8b.",source:"@site/docs/tutorial/query.md",sourceDirName:"tutorial",slug:"/tutorial/query",permalink:"/docs/tutorial/query",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"\u51c6\u5907\u5de5\u4f5c",permalink:"/docs/tutorial/preparation"},next:{title:"\u53d8\u66f4(mutation)",permalink:"/docs/tutorial/mutation"}},c={},d=[{value:"\u57fa\u672c\u67e5\u8be2",id:"\u57fa\u672c\u67e5\u8be2",level:2},{value:"1. \u67e5\u8be2\u524d5\u4e2a\u7528\u6237",id:"1-\u67e5\u8be2\u524d5\u4e2a\u7528\u6237",level:3},{value:"2. \u67e5\u8be2\u540d\u4e3aBob\u7684\u7528\u6237",id:"2-\u67e5\u8be2\u540d\u4e3abob\u7684\u7528\u6237",level:3},{value:"3. \u67e5\u8be2\u6240\u6709\u4f1a\u5458\u7528\u6237\u548c\u4ef7\u683c\u5927\u4e8e200\u7684\u4ea7\u54c1",id:"3-\u67e5\u8be2\u6240\u6709\u4f1a\u5458\u7528\u6237\u548c\u4ef7\u683c\u5927\u4e8e200\u7684\u4ea7\u54c1",level:3},{value:"4. \u67e5\u8be2\u4ea7\u54c1\u5217\u8868, \u4ef7\u683c\u7531\u9ad8\u5230\u4f4e",id:"4-\u67e5\u8be2\u4ea7\u54c1\u5217\u8868-\u4ef7\u683c\u7531\u9ad8\u5230\u4f4e",level:3},{value:"5. \u67e5\u8be2\u4ef7\u683c\u5728300\u4ee5\u5185, \u4ef7\u683c\u6700\u9ad8\u7684\u4ea7\u54c1",id:"5-\u67e5\u8be2\u4ef7\u683c\u5728300\u4ee5\u5185-\u4ef7\u683c\u6700\u9ad8\u7684\u4ea7\u54c1",level:3},{value:"6. \u5206\u7ec4\u67e5\u8be2\u666e\u901a\u7528\u6237\u548c\u4f1a\u5458\u7528\u6237\u7684\u6570\u91cf",id:"6-\u5206\u7ec4\u67e5\u8be2\u666e\u901a\u7528\u6237\u548c\u4f1a\u5458\u7528\u6237\u7684\u6570\u91cf",level:3},{value:"7. \u67e5\u8be2Alice\u7684\u8ba2\u5355",id:"7-\u67e5\u8be2alice\u7684\u8ba2\u5355",level:3},{value:"8. \u67e5\u8be2\u8d2d\u4e70\u4e86Phone\u7684\u7528\u6237\u5217\u8868",id:"8-\u67e5\u8be2\u8d2d\u4e70\u4e86phone\u7684\u7528\u6237\u5217\u8868",level:3},{value:"\u5206\u9875\u67e5\u8be2",id:"\u5206\u9875\u67e5\u8be2",level:2},{value:"1. \u67e5\u8be2\u7528\u6237\u7b2c1\u9875, \u6bcf\u98755\u6761",id:"1-\u67e5\u8be2\u7528\u6237\u7b2c1\u9875-\u6bcf\u98755\u6761",level:3},{value:"2. \u67e5\u8be2\u7528\u6237\u7b2c2\u9875, \u6bcf\u98755\u6761",id:"2-\u67e5\u8be2\u7528\u6237\u7b2c2\u9875-\u6bcf\u98755\u6761",level:3},{value:"3. \u67e5\u8be2\u7528\u6237\u7b2c3\u9875, \u6bcf\u98755\u6761, \u6e38\u6807\u5206\u9875",id:"3-\u67e5\u8be2\u7528\u6237\u7b2c3\u9875-\u6bcf\u98755\u6761-\u6e38\u6807\u5206\u9875",level:3},{value:"4. \u67e5\u8be2\u7528\u6237\u7b2c4\u9875, \u6bcf\u98755\u6761, \u6e38\u6807\u5206\u9875",id:"4-\u67e5\u8be2\u7528\u6237\u7b2c4\u9875-\u6bcf\u98755\u6761-\u6e38\u6807\u5206\u9875",level:3}];function t(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"\u67e5\u8be2query",children:"\u67e5\u8be2(query)"}),"\n",(0,r.jsx)(e.p,{children:"\u5feb\u901f\u6d4f\u89c8\u67e5\u8be2\u793a\u4f8b."}),"\n",(0,r.jsx)(e.h2,{id:"\u57fa\u672c\u67e5\u8be2",children:"\u57fa\u672c\u67e5\u8be2"}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u8be2\u5355\u4e2a: \u7c7b\u578b\u540d => camelCase (\u4f8b: User => user)"}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u8be2\u5217\u8868: \u7c7b\u578b\u540d => camelCase + List (\u4f8b: User => userList)"}),"\n",(0,r.jsx)(e.h3,{id:"1-\u67e5\u8be2\u524d5\u4e2a\u7528\u6237",children:"1. \u67e5\u8be2\u524d5\u4e2a\u7528\u6237"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  userList(first: 5) {\n    name\n    email\n    userType\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userList": [\n      {\n        "name": "Alice",\n        "email": "alice@example.com",\n        "userType": "VIP"\n      },\n      {\n        "name": "Bob",\n        "email": "bob@example.com",\n        "userType": "REGULAR"\n      },\n      {\n        "name": "Charlie",\n        "email": "charlie@example.com",\n        "userType": "VIP"\n      },\n      {\n        "name": "Diana",\n        "email": "diana@example.com",\n        "userType": "REGULAR"\n      },\n      {\n        "name": "Edward",\n        "email": "edward@example.com",\n        "userType": "VIP"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-\u67e5\u8be2\u540d\u4e3abob\u7684\u7528\u6237",children:"2. \u67e5\u8be2\u540d\u4e3aBob\u7684\u7528\u6237"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'query {\n  user(name: {opr: EQ val: "Bob"}) {\n    name\n    email\n    userType\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n      "name": "Bob",\n      "email": "bob@example.com",\n      "userType": "REGULAR"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-\u67e5\u8be2\u6240\u6709\u4f1a\u5458\u7528\u6237\u548c\u4ef7\u683c\u5927\u4e8e200\u7684\u4ea7\u54c1",children:"3. \u67e5\u8be2\u6240\u6709\u4f1a\u5458\u7528\u6237\u548c\u4ef7\u683c\u5927\u4e8e200\u7684\u4ea7\u54c1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  vip: userList(userType: {opr: EQ val: VIP}) {\n    name\n  }\n  greaterThan200: productList(price: {opr: GT val: 200}) {\n    name\n    price\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "vip": [\n      {\n        "name": "Alice"\n      },\n      {\n        "name": "Charlie"\n      },\n      {\n        "name": "Edward"\n      },\n      {\n        "name": "George"\n      },\n      {\n        "name": "Ian"\n      },\n      {\n        "name": "Kyle"\n      },\n      {\n        "name": "Mike"\n      },\n      {\n        "name": "Oliver"\n      },\n      {\n        "name": "Quentin"\n      },\n      {\n        "name": "Steve"\n      }\n    ],\n    "greaterThan200": [\n      {\n        "name": "Laptop",\n        "price": 999.99\n      },\n      {\n        "name": "Phone",\n        "price": 499.99\n      },\n      {\n        "name": "Tablet",\n        "price": 299.99\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"4-\u67e5\u8be2\u4ea7\u54c1\u5217\u8868-\u4ef7\u683c\u7531\u9ad8\u5230\u4f4e",children:"4. \u67e5\u8be2\u4ea7\u54c1\u5217\u8868, \u4ef7\u683c\u7531\u9ad8\u5230\u4f4e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  productList(orderBy: {price: DESC}) {\n    name\n    price\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "productList": [\n      {\n        "name": "Laptop",\n        "price": 999.99\n      },\n      {\n        "name": "Phone",\n        "price": 499.99\n      },\n      {\n        "name": "Tablet",\n        "price": 299.99\n      },\n      {\n        "name": "Monitor",\n        "price": 199.99\n      },\n      {\n        "name": "Keyboard",\n        "price": 49.99\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"5-\u67e5\u8be2\u4ef7\u683c\u5728300\u4ee5\u5185-\u4ef7\u683c\u6700\u9ad8\u7684\u4ea7\u54c1",children:"5. \u67e5\u8be2\u4ef7\u683c\u5728300\u4ee5\u5185, \u4ef7\u683c\u6700\u9ad8\u7684\u4ea7\u54c1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  product(price: {opr: LTE val:300}) {\n    name\n    priceMax\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "product": {\n      "name": "Tablet",\n      "priceMax": 299.99\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"6-\u5206\u7ec4\u67e5\u8be2\u666e\u901a\u7528\u6237\u548c\u4f1a\u5458\u7528\u6237\u7684\u6570\u91cf",children:"6. \u5206\u7ec4\u67e5\u8be2\u666e\u901a\u7528\u6237\u548c\u4f1a\u5458\u7528\u6237\u7684\u6570\u91cf"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'query {\n  userList(groupBy: ["userType"]) {\n    userType\n    idCount\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userList": [\n      {\n        "userType": "VIP",\n        "idCount": 10\n      },\n      {\n        "userType": "REGULAR",\n        "idCount": 10\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"7-\u67e5\u8be2alice\u7684\u8ba2\u5355",children:"7. \u67e5\u8be2Alice\u7684\u8ba2\u5355"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'query {\n  user(name: {opr: EQ val: "Alice"}) {\n    name\n    orders {\n      items {\n        product {\n          name\n        }\n        quantity\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n      "name": "Alice",\n      "orders": [\n        {\n          "items": [\n            {\n              "product": {\n                "name": "Laptop"\n              },\n              "quantity": 1\n            },\n            {\n              "product": {\n                "name": "Tablet"\n              },\n              "quantity": 2\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"8-\u67e5\u8be2\u8d2d\u4e70\u4e86phone\u7684\u7528\u6237\u5217\u8868",children:"8. \u67e5\u8be2\u8d2d\u4e70\u4e86Phone\u7684\u7528\u6237\u5217\u8868"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'query {\n  userList(orders: {items: {product: {name: {opr: EQ val: "Phone"}}}}) {\n    name\n    orders {\n      items {\n        product {\n          name\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userList": [\n      {\n        "name": "Bob",\n        "orders": [\n          {\n            "items": [\n              {\n                "product": {\n                  "name": "Phone"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        "name": "Diana",\n        "orders": [\n          {\n            "items": [\n              {\n                "product": {\n                  "name": "Laptop"\n                }\n              },\n              {\n                "product": {\n                  "name": "Phone"\n                }\n              },\n              {\n                "product": {\n                  "name": "Tablet"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u5206\u9875\u67e5\u8be2",children:"\u5206\u9875\u67e5\u8be2"}),"\n",(0,r.jsxs)(e.p,{children:["Graphoenix\u652f\u6301",(0,r.jsx)(e.a,{href:"https://graphql.org/learn/pagination/",children:"\u666e\u901a\u5206\u9875\u548c\u6e38\u6807\u5206\u9875"}),"(",(0,r.jsx)(e.a,{href:"https://graphql.cn/learn/pagination/",children:"\u4e2d\u6587"}),"), \u652f\u6301",(0,r.jsx)(e.a,{href:"https://relay.dev/graphql/connections.htm",children:"GraphQL Cursor Connections\u89c4\u8303"})]}),"\n",(0,r.jsx)(e.p,{children:"\u5206\u9875\u67e5\u8be2: \u7c7b\u578b\u540d => camelCase + Connection (\u4f8b: User => userConnection)"}),"\n",(0,r.jsx)(e.h3,{id:"1-\u67e5\u8be2\u7528\u6237\u7b2c1\u9875-\u6bcf\u98755\u6761",children:"1. \u67e5\u8be2\u7528\u6237\u7b2c1\u9875, \u6bcf\u98755\u6761"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  userConnection(first: 5) {\n    totalCount\n    edges {\n      node {\n        name\n        email\n        userType\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userConnection": {\n      "totalCount": 20,\n      "edges": [\n        {\n          "node": {\n            "name": "Alice",\n            "email": "alice@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "node": {\n            "name": "Bob",\n            "email": "bob@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "node": {\n            "name": "Charlie",\n            "email": "charlie@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "node": {\n            "name": "Diana",\n            "email": "diana@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "node": {\n            "name": "Edward",\n            "email": "edward@example.com",\n            "userType": "VIP"\n          }\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-\u67e5\u8be2\u7528\u6237\u7b2c2\u9875-\u6bcf\u98755\u6761",children:"2. \u67e5\u8be2\u7528\u6237\u7b2c2\u9875, \u6bcf\u98755\u6761"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  userConnection(offset: 5 first: 5) {\n    totalCount\n    edges {\n      node {\n        name\n        email\n        userType\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userConnection": {\n      "totalCount": 20,\n      "edges": [\n        {\n          "node": {\n            "name": "Fiona",\n            "email": "fiona@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "node": {\n            "name": "George",\n            "email": "george@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "node": {\n            "name": "Hannah",\n            "email": "hannah@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "node": {\n            "name": "Ian",\n            "email": "ian@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "node": {\n            "name": "Jane",\n            "email": "jane@example.com",\n            "userType": "REGULAR"\n          }\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-\u67e5\u8be2\u7528\u6237\u7b2c3\u9875-\u6bcf\u98755\u6761-\u6e38\u6807\u5206\u9875",children:"3. \u67e5\u8be2\u7528\u6237\u7b2c3\u9875, \u6bcf\u98755\u6761, \u6e38\u6807\u5206\u9875"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://github.com/x1ah/Blog/issues/15",children:"\u6e38\u6807\u5206\u9875\u7b80\u4ecb"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{ id: "10", name: "Jane", email: "jane@example.com", userType: REGULAR },\n{ id: "11", name: "Kyle", email: "kyle@example.com", userType: VIP },\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u8be2Jane\u4e4b\u540e\u76845\u6761, \u6e38\u6807\u5b57\u6bb5\u9ed8\u8ba4\u4e3aID\u5b57\u6bb5, \u4e5f\u53ef\u4f7f\u7528@cursor\u6307\u5b9a\u6e38\u6807\u5b57\u6bb5, \u6b64\u5904\u53d6Jane\u7684id: 10"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  userConnection(after: 10 first: 5) {\n    pageInfo {\n      hasNextPage\n    }\n    edges {\n      cursor\n      node {\n        name\n        email\n        userType\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userConnection": {\n      "pageInfo": {\n        // highlight-start\n        "hasNextPage": true\n        // highlight-end\n      },\n      "edges": [\n        {\n          "cursor": "11",\n          "node": {\n            "name": "Kyle",\n            "email": "kyle@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "cursor": "12",\n          "node": {\n            "name": "Laura",\n            "email": "laura@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "cursor": "13",\n          "node": {\n            "name": "Mike",\n            "email": "mike@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "cursor": "14",\n          "node": {\n            "name": "Nina",\n            "email": "nina@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "cursor": "15",\n          "node": {\n            "name": "Oliver",\n            "email": "oliver@example.com",\n            "userType": "VIP"\n          }\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"4-\u67e5\u8be2\u7528\u6237\u7b2c4\u9875-\u6bcf\u98755\u6761-\u6e38\u6807\u5206\u9875",children:"4. \u67e5\u8be2\u7528\u6237\u7b2c4\u9875, \u6bcf\u98755\u6761, \u6e38\u6807\u5206\u9875"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  userConnection(after: 15 first: 5) {\n    pageInfo {\n      hasNextPage\n    }\n    edges {\n      cursor\n      node {\n        name\n        email\n        userType\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Tina\u4e3a\u6700\u540e\u4e00\u4e2a\u7528\u6237, hasNextPage\u53d8\u4e3afalse"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userConnection": {\n      "pageInfo": {\n        // highlight-start\n        "hasNextPage": false\n        // highlight-end\n      },\n      "edges": [\n        {\n          "cursor": "16",\n          "node": {\n            "name": "Paula",\n            "email": "paula@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "cursor": "17",\n          "node": {\n            "name": "Quentin",\n            "email": "quentin@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "cursor": "18",\n          "node": {\n            "name": "Rachel",\n            "email": "rachel@example.com",\n            "userType": "REGULAR"\n          }\n        },\n        {\n          "cursor": "19",\n          "node": {\n            "name": "Steve",\n            "email": "steve@example.com",\n            "userType": "VIP"\n          }\n        },\n        {\n          "cursor": "20",\n          "node": {\n            "name": "Tina",\n            "email": "tina@example.com",\n            "userType": "REGULAR"\n          }\n        }\n      ]\n    }\n  }\n}\n'})})]})}function m(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(t,{...n})}):t(n)}},5710:(n,e,a)=>{a.d(e,{R:()=>i,x:()=>o});var r=a(758);const l={},s=r.createContext(l);function i(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:i(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);