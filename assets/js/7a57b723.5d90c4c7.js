"use strict";(self.webpackChunkgp_doc_github_io=self.webpackChunkgp_doc_github_io||[]).push([[5671],{8286:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>d,metadata:()=>t,toc:()=>h});var s=r(6070),l=r(5710);const d={sidebar_position:3},i="\u5173\u7cfb\u6620\u5c04",t={id:"guide/relationship",title:"\u5173\u7cfb\u6620\u5c04",description:"\u5173\u7cfb\u6620\u5c04 (Relationship Mapping) \u662f\u6307\u5728\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04 (ORM) \u4e2d\u5b9a\u4e49\u5b9e\u4f53\u4e4b\u95f4\u5173\u7cfb\u7684\u8fc7\u7a0b. \u5173\u7cfb\u6620\u5c04\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u548c\u7ba1\u7406\u6570\u636e\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u8054. \u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u5173\u7cfb\uff1a",source:"@site/docs/guide/relationship.md",sourceDirName:"guide",slug:"/guide/relationship",permalink:"/docs/guide/relationship",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"\u7c7b\u578b",permalink:"/docs/guide/types"},next:{title:"\u9519\u8bef\u5904\u7406",permalink:"/docs/guide/errors"}},o={},h=[{value:"\u5173\u7cfb\u6784\u5efa",id:"\u5173\u7cfb\u6784\u5efa",level:2},{value:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4",id:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4",level:2},{value:"@map",id:"map",level:3},{value:"@fetch",id:"fetch",level:3},{value:"With",id:"with",level:3},{value:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04",id:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04",level:2},{value:"\u4e00\u5bf9\u4e00\u5173\u7cfb (One-to-One)",id:"\u4e00\u5bf9\u4e00\u5173\u7cfb-one-to-one",level:3},{value:"\u4e00\u5bf9\u591a\u5173\u7cfb (One-to-Many)",id:"\u4e00\u5bf9\u591a\u5173\u7cfb-one-to-many",level:3},{value:"\u591a\u5bf9\u591a\u5173\u7cfb (Many-to-Many)",id:"\u591a\u5bf9\u591a\u5173\u7cfb-many-to-many",level:3},{value:"\u81ea\u5f15\u7528\u5173\u7cfb (Self-Referencing)",id:"\u81ea\u5f15\u7528\u5173\u7cfb-self-referencing",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\u5173\u7cfb\u6620\u5c04",children:"\u5173\u7cfb\u6620\u5c04"}),"\n",(0,s.jsx)(n.p,{children:"\u5173\u7cfb\u6620\u5c04 (Relationship Mapping) \u662f\u6307\u5728\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04 (ORM) \u4e2d\u5b9a\u4e49\u5b9e\u4f53\u4e4b\u95f4\u5173\u7cfb\u7684\u8fc7\u7a0b. \u5173\u7cfb\u6620\u5c04\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u548c\u7ba1\u7406\u6570\u636e\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u8054. \u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u5173\u7cfb\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4e00\u5bf9\u4e00\u5173\u7cfb (One-to-One Relationship)"})," :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5728\u8fd9\u79cd\u5173\u7cfb\u4e2d, \u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u4ec5\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u76f8\u5173\u8054. \u4f8b\u5982, \u4e00\u4e2a\u4eba\u5bf9\u5e94\u4e00\u4e2a\u62a4\u7167. \u5b9e\u73b0\u65b9\u5f0f\u901a\u5e38\u662f\u5728\u5176\u4e2d\u4e00\u4e2a\u5b9e\u4f53\u7684\u8868\u4e2d\u5305\u542b\u53e6\u4e00\u4e2a\u5b9e\u4f53\u7684\u4e3b\u952e\u4f5c\u4e3a\u5916\u952e"}),"\n",(0,s.jsx)(n.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u5728\u4e00\u4e2a\u8868\u4e2d\u6dfb\u52a0\u552f\u4e00\u5916\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4e00\u5bf9\u591a\u5173\u7cfb (One-to-Many Relationship)"})," :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8fd9\u662f\u6700\u5e38\u89c1\u7684\u5173\u7cfb\u7c7b\u578b, \u5176\u4e2d\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u53ef\u4ee5\u5173\u8054\u591a\u4e2a\u53e6\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b. \u4f8b\u5982, \u4e00\u4e2a\u5ba2\u6237\u53ef\u4ee5\u6709\u591a\u4e2a\u8ba2\u5355. \u5b9e\u73b0\u65b9\u5f0f\u662f\u5728 \u201c\u591a\u201d \u4e00\u65b9\u7684\u8868\u4e2d\u6dfb\u52a0 \u201c\u5355\u201d \u4e00\u65b9\u7684\u4e3b\u952e\u4f5c\u4e3a\u5916\u952e"}),"\n",(0,s.jsx)(n.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u5728 \u201c\u591a\u201d \u4e00\u65b9\u7684\u8868\u4e2d\u6dfb\u52a0\u5916\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u591a\u5bf9\u591a\u5173\u7cfb (Many-to-Many Relationship)"})," :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5728\u8fd9\u79cd\u5173\u7cfb\u4e2d, \u591a\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u53ef\u4ee5\u4e0e\u591a\u4e2a\u53e6\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u76f8\u5173\u8054. \u4f8b\u5982, \u4e00\u4e2a\u5b66\u751f\u53ef\u4ee5\u9009\u4fee\u591a\u95e8\u8bfe\u7a0b, \u4e00\u95e8\u8bfe\u7a0b\u4e5f\u53ef\u4ee5\u6709\u591a\u4e2a\u5b66\u751f\u9009\u4fee. \u5b9e\u73b0\u65b9\u5f0f\u662f\u4f7f\u7528\u4e00\u4e2a\u4e2d\u95f4\u8868 (\u4e5f\u53eb\u5173\u8054\u8868\u6216\u4ea4\u53c9\u8868) \u6765\u5b58\u50a8\u4e24\u4e2a\u5b9e\u4f53\u7684\u4e3b\u952e"}),"\n",(0,s.jsx)(n.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u4e2d\u95f4\u8868\u6765\u5305\u542b\u4e24\u4e2a\u5b9e\u4f53\u7684\u4e3b\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u81ea\u5f15\u7528\u5173\u7cfb (Self-Referencing Relationship)"})," :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8fd9\u662f\u6307\u4e00\u4e2a\u5b9e\u4f53\u4e0e\u5b83\u81ea\u5df1\u6709\u5173\u7cfb. \u4f8b\u5982, \u4e00\u4e2a\u5458\u5de5\u53ef\u4ee5\u6709\u4e00\u4e2a\u7ecf\u7406, \u8fd9\u4e2a\u7ecf\u7406\u4e5f\u662f\u5458\u5de5. \u5b9e\u73b0\u65b9\u5f0f\u662f\u5728\u540c\u4e00\u4e2a\u8868\u4e2d\u4f7f\u7528\u5916\u952e\u6307\u5411\u81ea\u8eab\u7684\u4e3b\u952e"}),"\n",(0,s.jsx)(n.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u5728\u8868\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u5916\u952e\u5217\u6765\u5f15\u7528\u540c\u4e00\u4e2a\u8868\u7684\u4e3b\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5173\u7cfb\u6784\u5efa",children:"\u5173\u7cfb\u6784\u5efa"}),"\n",(0,s.jsx)(n.p,{children:"Graphoenix \u6839\u636e GraphQL \u7c7b\u578b\u5b9a\u4e49\u81ea\u52a8\u5206\u6790\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u6620\u5c04, \u9ed8\u8ba4\u4e3a\u6240\u6709\u5bf9\u8c61\u5173\u7cfb\u521b\u5efa\u591a\u5bf9\u591a\u5173\u7cfb(Many-to-Many)"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart LR\n    gp((Graphoenix))\n    user["type User {\n    &emsp;roles: [Role]\n    &emsp;groups: [Group]\n    }"]\n    role["type Role {\n    &emsp;users: [User]\n    &emsp;groups: [Group]\n    }"]\n    group["type Group {\n    &emsp;users: [User]\n    &emsp;roles: [Role]\n    }"]\n    userRole["type UserRoleRelation {\n    &emsp;user: User\n    &emsp;role: Role\n    }"]\n    userGroup["type UserGroupRelation {\n    &emsp;user: User\n    &emsp;group: Group\n    }"]\n    groupRole["type GroupRoleRelation {\n    &emsp;group: Group\n    &emsp;role: Role\n    }"]\n    user <-.-> userRole\n    role <-.-> userRole\n    user -- \u5b9a\u4e49 --\x3e gp\n    role -- \u5b9a\u4e49 --\x3e gp\n    group -- \u5b9a\u4e49 --\x3e gp\n    gp -- \u751f\u6210 --\x3e userRole\n    user <-.-> userGroup\n    gp -- \u751f\u6210 --\x3e userGroup\n    gp -- \u751f\u6210 --\x3e groupRole\n    group <-.-> userGroup\n    role <-.-> groupRole\n    group <-.-> groupRole\n    style user text-align:left\n    style role text-align:left\n    style group text-align:left\n    style userRole text-align:left\n    style userGroup text-align:left\n    style groupRole text-align:left'}),"\n",(0,s.jsx)(n.h2,{id:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4",children:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4"}),"\n",(0,s.jsxs)(n.p,{children:["Graphoenix \u63d0\u4f9b ",(0,s.jsx)(n.a,{href:"#map",children:(0,s.jsx)(n.code,{children:"@map"})})," \u548c ",(0,s.jsx)(n.a,{href:"#fetch",children:(0,s.jsx)(n.code,{children:"@fetch"})})," \u4e24\u4e2a\u6307\u4ee4\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04"]}),"\n",(0,s.jsx)(n.h3,{id:"map",children:"@map"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u6570\u636e\u5e93\u5c42\u8fdb\u884c\u6620\u5c04, \u4f7f\u7528\u5173\u7cfb\u578b\u6570\u636e\u5e93 JOIN \u8bed\u53e5\u7ec4\u5408\u5173\u8054\u5bf9\u8c61"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,s.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,s.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"from"}),(0,s.jsx)(n.td,{children:"String!"}),(0,s.jsx)(n.td,{children:"\u6e90\u5b57\u6bb5"}),(0,s.jsx)(n.td,{children:"\u901a\u8fc7\u4e0e\u76ee\u6807\u5b57\u6bb5(to)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"to"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"\u76ee\u6807\u5b57\u6bb5"}),(0,s.jsx)(n.td,{children:"\u901a\u8fc7\u4e0e\u6e90\u5b57\u6bb5(from)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"with"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#with",children:"With"})}),(0,s.jsx)(n.td,{children:"\u5173\u7cfb\u5bf9\u8c61"}),(0,s.jsx)(n.td,{children:"\u591a\u5bf9\u591a\u5173\u7cfb\u6620\u5c04\u7684\u5173\u7cfb\u5bf9\u8c61"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"anchor"}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"\u951a\u70b9"}),(0,s.jsx)(n.td,{children:"\u951a\u70b9\u8868\u793a\u6e90\u5b57\u6bb5\u50a8\u5b58\u76ee\u6807\u5b57\u6bb5\u7684\u8fd4\u56de\u503c, \u901a\u5e38\u60c5\u51b5\u4e0b\u76ee\u6807\u5b57\u6bb5\u4e3a ID \u7c7b\u578b\u65f6\u9ed8\u8ba4\u4e3a\u951a\u70b9"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"fetch",children:"@fetch"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u5e94\u7528\u5c42\u8fdb\u884c\u6620\u5c04, \u5728\u5e94\u7528\u5c42\u5bf9\u5173\u8054\u5bf9\u8c61\u8fdb\u884c\u7ec4\u5408, \u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u573a\u666f\u548c\u4e0d\u652f\u6301\u5173\u7cfb\u6620\u5c04\u7684\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,s.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,s.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"from"}),(0,s.jsx)(n.td,{children:"String!"}),(0,s.jsx)(n.td,{children:"\u6e90\u5b57\u6bb5"}),(0,s.jsx)(n.td,{children:"\u901a\u8fc7\u4e0e\u76ee\u6807\u5b57\u6bb5(to)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"to"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"\u76ee\u6807\u5b57\u6bb5"}),(0,s.jsx)(n.td,{children:"\u901a\u8fc7\u4e0e\u6e90\u5b57\u6bb5(from)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"with"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#with",children:"With"})}),(0,s.jsx)(n.td,{children:"\u5173\u7cfb\u5bf9\u8c61"}),(0,s.jsx)(n.td,{children:"\u591a\u5bf9\u591a\u5173\u7cfb\u6620\u5c04\u7684\u5173\u7cfb\u5bf9\u8c61"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"anchor"}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"\u951a\u70b9"}),(0,s.jsx)(n.td,{children:"\u951a\u70b9\u8868\u793a\u6e90\u5b57\u6bb5\u50a8\u5b58\u76ee\u6807\u5b57\u6bb5\u7684\u8fd4\u56de\u503c, \u901a\u5e38\u60c5\u51b5\u4e0b\u76ee\u6807\u5b57\u6bb5\u4e3a ID \u7c7b\u578b\u65f6\u9ed8\u8ba4\u4e3a\u951a\u70b9"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"protocol"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/docs/guide/types#protocol",children:"Protocol"})}),(0,s.jsx)(n.td,{children:"\u901a\u8baf\u7c7b\u578b"}),(0,s.jsx)(n.td,{children:"\u5206\u5e03\u5f0f\u573a\u666f\u4e0b\u7684\u901a\u8baf\u534f\u8bae, \u9ed8\u8ba4\u65e0\u9700\u8bbe\u7f6e"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"with",children:"With"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,s.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,s.jsx)(n.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"type"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"\u5173\u7cfb\u5bf9\u8c61\u540d"}),(0,s.jsx)(n.td,{children:"\u591a\u5bf9\u591a\u5173\u7cfb\u6620\u5c04\u7684\u5173\u7cfb\u5bf9\u8c61\u540d\u79f0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"from"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"\u6e90\u5bf9\u8c61\u6620\u5c04\u5b57\u6bb5"}),(0,s.jsx)(n.td,{children:"\u901a\u8fc7\u4e0e\u6e90\u5bf9\u8c61(from)\u7684\u539f\u5b57\u6bb5\u8fdb\u884c\u5173\u8054"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"to"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"\u76ee\u6807\u5bf9\u8c61\u6620\u5c04\u5b57\u6bb5"}),(0,s.jsx)(n.td,{children:"\u901a\u8fc7\u4e0e\u76ee\u6807\u5bf9\u8c61\u7684\u76ee\u6807\u5b57\u6bb5(to)\u8fdb\u884c\u5173\u8054"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04",children:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u67d0\u4e9b\u573a\u666f\u4e0b, Graphoenix \u9ed8\u8ba4\u7684\u5173\u7cfb\u6784\u5efa\u5e76\u4e0d\u80fd\u6ee1\u8db3\u5b9e\u9645\u9700\u6c42, \u9700\u8981\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04:"}),"\n",(0,s.jsx)(n.h3,{id:"\u4e00\u5bf9\u4e00\u5173\u7cfb-one-to-one",children:"\u4e00\u5bf9\u4e00\u5173\u7cfb (One-to-One)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'"\u7528\u6237"\ntype User {\n  "ID"\n  id: ID\n  "\u59d3\u540d"\n  name: String!\n  "\u8d44\u6599"\n  profile: Profile @map(from: "id", to: "profileId")\n}\n\n"\u7ec4"\ntype Profile {\n  "ID"\n  id: ID\n  "\u540d\u79f0"\n  email: String!\n  "\u7528\u6237"\n  user: User @map(from: "userId", to: "id")\n}\n'})}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n    subgraph User\n      userId[id]\n      userName[name]\n    end\n    subgraph Profile\n      profileId[id]\n      profileEmail[email]\n      profileUserId[userId]\n    end\n    userId <-- \u6620\u5c04 --\x3e profileUserId"}),"\n",(0,s.jsx)(n.h3,{id:"\u4e00\u5bf9\u591a\u5173\u7cfb-one-to-many",children:"\u4e00\u5bf9\u591a\u5173\u7cfb (One-to-Many)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'"\u7528\u6237"\ntype User {\n  "ID"\n  id: ID\n  "\u59d3\u540d"\n  name: String!\n  "\u7ec4"\n  group: Group @map(from: "groupId", to: "id")\n}\n\n"\u7ec4"\ntype Group {\n  "ID"\n  id: ID\n  "\u540d\u79f0"\n  name: String!\n  "\u7528\u6237"\n  users: [User] @map(from: "id", to: "groupId")\n}\n'})}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n    subgraph Group\n      groupId[id]\n      groupName[name]\n    end\n    subgraph User2\n      user2Id[id]\n      user2Name[name]\n      user2GroupId[groupId]\n    end\n    subgraph User1\n      user1Id[id]\n      user1Name[name]\n      user1GroupId[groupId]\n    end\n    groupId <-- \u6620\u5c04 --\x3e user1GroupId & user2GroupId"}),"\n",(0,s.jsx)(n.h3,{id:"\u591a\u5bf9\u591a\u5173\u7cfb-many-to-many",children:"\u591a\u5bf9\u591a\u5173\u7cfb (Many-to-Many)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'"\u7528\u6237"\ntype User {\n  "ID"\n  id: ID\n  "\u59d3\u540d"\n  name: String!\n  "\u89d2\u8272"\n  roles: [Role]\n    @map(\n      from: "id"\n      with: { type: "RoleUserRelation", to: "roleRef", from: "userRef" }\n      to: "id"\n    )\n}\n\n"\u89d2\u8272"\ntype Role {\n  "ID"\n  id: ID\n  "\u540d\u79f0"\n  name: String!\n  "\u7528\u6237"\n  users: [User]\n    @map(\n      from: "id"\n      with: { type: "RoleUserRelation", to: "userRef", from: "roleRef" }\n      to: "id"\n    )\n}\n'})}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n    subgraph User2\n      user2Id[id]\n      user2Name[name]\n      user2GroupId[groupId]\n    end\n    subgraph User1\n      user1Id[id]\n      user1Name[name]\n      user1GroupId[groupId]\n    end\n    subgraph RoleUserRelation2\n      roleUserRelation2UserRef[userRef]\n      roleUserRelation2RoleRef[roleRef]\n    end\n    subgraph RoleUserRelation1\n      roleUserRelation1UserRef[userRef]\n      roleUserRelation1RoleRef[roleRef]\n    end\n    subgraph Role2\n      role2Id[id]\n      role2Name[name]\n    end\n    subgraph Role1\n      role1Id[id]\n      role1Name[name]\n    end\n    user2Id <-- \u6620\u5c04 --\x3e roleUserRelation2UserRef\n    roleUserRelation2RoleRef <-- \u6620\u5c04 --\x3e role2Id\n    user1Id <-- \u6620\u5c04 --\x3e roleUserRelation1UserRef\n    roleUserRelation1RoleRef <-- \u6620\u5c04 --\x3e role1Id"}),"\n",(0,s.jsx)(n.h3,{id:"\u81ea\u5f15\u7528\u5173\u7cfb-self-referencing",children:"\u81ea\u5f15\u7528\u5173\u7cfb (Self-Referencing)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'"\u7ec4"\ntype Group {\n  "ID"\n  id: ID\n  "\u540d\u79f0"\n  name: String!\n  "\u4e0a\u7ea7"\n  parent: Group @map(from: "parentId", to: "id", anchor: true)\n  "\u4e0b\u7ea7"\n  subGroups: [Group] @map(from: "id", to: "parentId")\n}\n'})}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n    subgraph Group1\n      group1Id[id]\n      group1Name[name]\n    end\n    subgraph Group3\n      group3Id[id]\n      group3Name[name]\n      group3ParentId[parentId]\n    end\n    subgraph Group2\n      group2Id[id]\n      group2Name[name]\n      group2ParentId[parentId]\n    end\n    group1Id <-- \u6620\u5c04 --\x3e group2ParentId & group3ParentId"})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},5710:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>t});var s=r(758);const l={},d=s.createContext(l);function i(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);