"use strict";(self.webpackChunkgp_doc_github_io=self.webpackChunkgp_doc_github_io||[]).push([[7312],{9319:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>p,contentTitle:()=>t,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var i=r(6070),o=r(5710);const a={sidebar_position:1},t="\u5fae\u670d\u52a1",s={id:"distributed/microservices",title:"\u5fae\u670d\u52a1",description:"\u5fae\u670d\u52a1\u67b6\u6784\uff08Microservices Architecture\uff09\u662f\u4e00\u79cd\u5c06\u5355\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5206\u89e3\u4e3a\u591a\u4e2a\u72ec\u7acb\u90e8\u7f72\u7684\u5c0f\u670d\u52a1\u7684\u67b6\u6784\u6a21\u5f0f, \u6bcf\u4e2a\u670d\u52a1\u4e13\u6ce8\u4e8e\u7279\u5b9a\u7684\u4e1a\u52a1\u529f\u80fd, \u5177\u6709\u9ad8\u5185\u805a\u548c\u677e\u8026\u5408\u7684\u7279\u70b9. \u5b83\u5141\u8bb8\u5404\u4e2a\u670d\u52a1\u72ec\u7acb\u5f00\u53d1, \u90e8\u7f72\u548c\u6269\u5c55, \u652f\u6301\u7075\u6d3b\u7684\u6280\u672f\u9009\u578b, \u63d0\u9ad8\u7cfb\u7edf\u7684\u5f39\u6027\u548c\u6269\u5c55\u6027. \u7136\u800c\u5fae\u670d\u52a1\u67b6\u6784\u4e5f\u5e26\u6765\u4e86\u7cfb\u7edf\u590d\u6742\u6027\u589e\u52a0, \u8fd0\u7ef4\u6210\u672c\u9ad8, \u901a\u4fe1\u5f00\u9500\u5927\u548c\u6570\u636e\u4e00\u81f4\u6027\u4fdd\u969c\u96be\u7b49\u6311\u6218",source:"@site/docs/distributed/microservices.md",sourceDirName:"distributed",slug:"/distributed/microservices",permalink:"/docs/distributed/microservices",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\u5206\u5e03\u5f0f",permalink:"/docs/category/\u5206\u5e03\u5f0f"},next:{title:"\u6307\u5357",permalink:"/docs/category/\u6307\u5357"}},p={},c=[{value:"\u670d\u52a1\u62c6\u5206",id:"\u670d\u52a1\u62c6\u5206",level:2},{value:"\u9879\u76ee\u7ed3\u6784",id:"\u9879\u76ee\u7ed3\u6784",level:3},{value:"\u4f9d\u8d56\u5173\u7cfb",id:"\u4f9d\u8d56\u5173\u7cfb",level:3},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"protobuf \u63d2\u4ef6",id:"protobuf-\u63d2\u4ef6",level:3},{value:"\u6a21\u5757(package)\u4f9d\u8d56",id:"\u6a21\u5757package\u4f9d\u8d56",level:3},{value:"\u670d\u52a1(app)\u4f9d\u8d56",id:"\u670d\u52a1app\u4f9d\u8d56",level:3},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1",id:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1",level:3},{value:"\u914d\u7f6e\u6a21\u5757\u5730\u5740",id:"\u914d\u7f6e\u6a21\u5757\u5730\u5740",level:3},{value:"\u542f\u52a8",id:"\u542f\u52a8",level:2},{value:"\u67e5\u8be2\u548c\u53d8\u66f4",id:"\u67e5\u8be2\u548c\u53d8\u66f4",level:2}];function l(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...n.components},{Details:a}=e;return a||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"\u5fae\u670d\u52a1",children:"\u5fae\u670d\u52a1"}),"\n",(0,i.jsx)(e.p,{children:"\u5fae\u670d\u52a1\u67b6\u6784\uff08Microservices Architecture\uff09\u662f\u4e00\u79cd\u5c06\u5355\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5206\u89e3\u4e3a\u591a\u4e2a\u72ec\u7acb\u90e8\u7f72\u7684\u5c0f\u670d\u52a1\u7684\u67b6\u6784\u6a21\u5f0f, \u6bcf\u4e2a\u670d\u52a1\u4e13\u6ce8\u4e8e\u7279\u5b9a\u7684\u4e1a\u52a1\u529f\u80fd, \u5177\u6709\u9ad8\u5185\u805a\u548c\u677e\u8026\u5408\u7684\u7279\u70b9. \u5b83\u5141\u8bb8\u5404\u4e2a\u670d\u52a1\u72ec\u7acb\u5f00\u53d1, \u90e8\u7f72\u548c\u6269\u5c55, \u652f\u6301\u7075\u6d3b\u7684\u6280\u672f\u9009\u578b, \u63d0\u9ad8\u7cfb\u7edf\u7684\u5f39\u6027\u548c\u6269\u5c55\u6027. \u7136\u800c\u5fae\u670d\u52a1\u67b6\u6784\u4e5f\u5e26\u6765\u4e86\u7cfb\u7edf\u590d\u6742\u6027\u589e\u52a0, \u8fd0\u7ef4\u6210\u672c\u9ad8, \u901a\u4fe1\u5f00\u9500\u5927\u548c\u6570\u636e\u4e00\u81f4\u6027\u4fdd\u969c\u96be\u7b49\u6311\u6218"}),"\n",(0,i.jsx)(e.p,{children:"Graphoenix \u5168\u9762\u652f\u6301\u5fae\u670d\u52a1\u67b6\u6784, \u63d0\u4f9b\u670d\u52a1\u6ce8\u518c, \u7f51\u5173, \u7194\u65ad, \u8d1f\u8f7d\u5747\u8861, \u5206\u5e03\u5f0f\u4e8b\u52a1\u7b49\u5168\u5957\u7684\u5fae\u670d\u52a1\u89e3\u51b3\u65b9\u6848. \u7cfb\u7edf\u901a\u8fc7\u4e0d\u540c\u7684\u5305\u540d(Package Name)\u6765\u533a\u5206\u6a21\u5757, \u6bcf\u4e2a\u6a21\u5757\u53ef\u4ee5\u72ec\u7acb\u63d0\u4f9b\u670d\u52a1, \u901a\u8fc7 gRPC \u7b49\u901a\u8baf\u534f\u8bae\u6784\u6210\u5fae\u670d\u52a1\u77e9\u9635, \u4e5f\u53ef\u4ee5\u4e0e\u5176\u4ed6\u6a21\u5757\u5408\u5e76\u4e3a\u5355\u4f53\u67b6\u6784\u63d0\u4f9b\u670d\u52a1"}),"\n",(0,i.jsx)(e.mermaid,{value:"flowchart LR\n    subgraph \u7f16\u8bd1\u65f6\n        pkg1([\u6a21\u57571])\n        pkg2([\u6a21\u57572])\n        pkg3([\u6a21\u57573])\n    end\n    pkg1 -.-> mono1\n    pkg2 -.-> mono2\n    pkg3 -.-> mono3\n    pkg1 -.-> micro1\n    pkg2 -.-> micro2\n    pkg3 -.-> micro3\n    subgraph \u5355\u4f53\u8fd0\u884c\u65f6\n        mono1{{jar1}}\n        mono2{{jar2}}\n        mono3{{jar3}}\n        mono1 <-. invoke .-> mono2\n        mono2 <-. invoke .-> mono3\n    end\n    subgraph \u5fae\u670d\u52a1\u8fd0\u884c\u65f6\n        micro1{{\u5fae\u670d\u52a11}}\n        micro2{{\u5fae\u670d\u52a12}}\n        micro3{{\u5fae\u670d\u52a13}}\n        micro1 <-. gRPC .-> micro2\n        micro2 <-. gRPC .-> micro3\n    end\n    subgraph \u6570\u636e\u5e93\n        db1[(MySQL)]\n        db2[(Postgre)]\n        db3[(MongoDB)]\n    end\n    \u5355\u4f53\u8fd0\u884c\u65f6 --\x3e db1\n    micro1 --\x3e db3\n    micro2 --\x3e db2\n    micro3 --\x3e db1"}),"\n",(0,i.jsx)(e.h2,{id:"\u670d\u52a1\u62c6\u5206",children:"\u670d\u52a1\u62c6\u5206"}),"\n",(0,i.jsx)(e.p,{children:"\u5fae\u670d\u52a1\u7684\u62c6\u5206\u662f\u5c06\u4e00\u4e2a\u5355\u4f53\u5e94\u7528\u5206\u89e3\u4e3a\u591a\u4e2a\u72ec\u7acb\u90e8\u7f72\u7684\u5c0f\u670d\u52a1, \u6bcf\u4e2a\u670d\u52a1\u4e13\u6ce8\u4e8e\u7279\u5b9a\u4e1a\u52a1\u529f\u80fd. \u901a\u8fc7\u9886\u57df\u9a71\u52a8\u8bbe\u8ba1(DDD), \u4e1a\u52a1\u529f\u80fd\u5212\u5206, \u72ec\u7acb\u6570\u636e\u5e93, \u72ec\u7acb\u90e8\u7f72\u548c\u670d\u52a1\u901a\u4fe1, \u5b9e\u73b0\u66f4\u597d\u7684\u9694\u79bb\u548c\u72ec\u7acb\u6027"}),"\n",(0,i.jsxs)(e.p,{children:["\u6211\u4eec\u5c06",(0,i.jsx)(e.a,{href:"/docs/tutorial/quick-start",children:"\u5feb\u901f\u5f00\u59cb"}),"\u4e2d\u7684",(0,i.jsx)(e.a,{href:"/docs/tutorial/quick-start#1-%E5%AE%9A%E4%B9%89-graphql",children:"\u8ba2\u5355\u7cfb\u7edf"}),"\u62c6\u5206\u4e3a\u8ba2\u5355(demo.gp.order), \u7528\u6237(demo.gp.user), \u8bc4\u8bba(demo.gp.review)\u4e09\u4e2a\u5b50\u7cfb\u7edf"]}),"\n",(0,i.jsx)(e.h3,{id:"\u9879\u76ee\u7ed3\u6784",children:"\u9879\u76ee\u7ed3\u6784"}),"\n",(0,i.jsx)(e.p,{children:"\u9879\u76ee\u6309\u7167\u529f\u80fd\u5206\u4e3a\u6a21\u5757(package)\u548c\u670d\u52a1(app), \u670d\u52a1\u4f5c\u4e3a\u6a21\u5757\u7684\u8f7d\u4f53, \u6309\u7167\u4e0d\u540c\u7684\u7ec4\u5408\u65b9\u5f0f\u6784\u5efa\u5355\u4f53\u67b6\u6784\u6216\u5fae\u670d\u52a1\u77e9\u9635:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"app(package1 + package2 + package3) = monolithic"}),"\n",(0,i.jsx)(e.li,{children:"app1(package1) + app2(package2) + app3(package3) = microservices"}),"\n"]}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"\u9879\u76ee\u7ed3\u6784"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"|-- order-microservices\n    |-- build.gradle\n    |-- gradle.properties\n    |-- settings.gradle\n    |-- order-app                               \u8ba2\u5355\u7cfb\u7edf\n    |   |-- build.gradle\n    |   |-- src\n    |       |-- main\n    |           |-- java\n    |           |   |-- demo.gp.order\n    |           |       |-- App.java\n    |           |-- resources\n    |               |-- application.conf\n    |-- order-package                           \u8ba2\u5355\u6a21\u5757\n    |   |-- build.gradle\n    |   |-- src\n    |       |-- main\n    |           |-- java\n    |           |   |-- demo.gp.order\n    |           |       |-- package-info.java\n    |           |-- resources\n    |               |-- graphql\n    |                   |-- order.gql           \u5b9a\u4e49\u8ba2\u5355\u76f8\u5173\u7c7b\u578b\n    |-- review-app                              \u8bc4\u8bba\u7cfb\u7edf\n    |   |-- build.gradle\n    |   |-- src\n    |       |-- main\n    |           |-- java\n    |           |   |-- demo.gp.review\n    |           |       |-- App.java\n    |           |-- resources\n    |               |-- application.conf\n    |-- review-package                          \u8bc4\u8bba\u6a21\u5757\n    |   |-- build.gradle\n    |   |-- src\n    |       |-- main\n    |           |-- java\n    |           |   |-- demo.gp.review\n    |           |       |-- package-info.java\n    |           |-- resources\n    |               |-- graphql\n    |                   |-- review.gql          \u5b9a\u4e49\u8bc4\u8bba\u76f8\u5173\u7c7b\u578b\n    |-- user-app                                \u7528\u6237\u7cfb\u7edf\n    |   |-- build.gradle\n    |   |-- src\n    |       |-- main\n    |           |-- java\n    |           |   |-- demo.gp.user\n    |           |       |-- App.java\n    |           |-- resources\n    |               |-- application.conf\n    |-- user-package                            \u7528\u6237\u6a21\u5757\n        |-- build.gradle\n        |-- src\n            |-- main\n                |-- java\n                |   |-- demo.gp.user\n                |       |-- package-info.java\n                |-- resources\n                    |-- graphql\n                        |-- user.gql            \u5b9a\u4e49\u7528\u6237\u76f8\u5173\u7c7b\u578b\n"})})]}),"\n",(0,i.jsx)(e.h3,{id:"\u4f9d\u8d56\u5173\u7cfb",children:"\u4f9d\u8d56\u5173\u7cfb"}),"\n",(0,i.jsx)(e.p,{children:"\u68b3\u7406\u5fae\u670d\u52a1\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u9700\u660e\u786e\u4e1a\u52a1\u8fb9\u754c, \u5b9a\u4e49\u670d\u52a1\u5951\u7ea6, \u5e76\u7ed8\u5236\u4f9d\u8d56\u56fe. \u6ce8\u610f\u907f\u514d\u5faa\u73af\u4f9d\u8d56\u548c\u6700\u5c0f\u5316\u4f9d\u8d56, \u91c7\u7528\u677e\u8026\u5408\u8bbe\u8ba1, \u786e\u4fdd\u5065\u58ee\u6027\u548c\u5bb9\u9519\u6027"}),"\n",(0,i.jsx)(e.p,{children:"\u4f8b:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u7528\u6237\u6a21\u5757\u4e2d\u5b9a\u4e49\u7528\u6237(User)\u548c\u7528\u6237\u7c7b\u578b(UserType)"}),"\n",(0,i.jsx)(e.li,{children:"\u8bc4\u8bba\u6a21\u5757\u4e2d\u5b9a\u4e49\u8bc4\u8bba(Review), \u8bc4\u8bba\u7684\u8bc4\u8bba\u4eba\u5b57\u6bb5(user)\u5f15\u7528\u7528\u6237\u6a21\u5757\u7684\u7528\u6237(User)"}),"\n",(0,i.jsx)(e.li,{children:"\u8ba2\u5355\u6a21\u5757\u4e2d\u5b9a\u4e49\u8ba2\u5355(Order)\u548c\u4ea7\u54c1(Product), \u8ba2\u5355\u7684\u8d2d\u4e70\u7528\u6237\u5b57\u6bb5(user)\u5f15\u7528\u7528\u6237\u6a21\u5757\u7684\u7528\u6237(User), \u4ea7\u54c1\u7684\u8bc4\u8bba\u5217\u8868\u5b57\u6bb5(reviews)\u5f15\u7528\u8bc4\u8bba\u6a21\u5757\u7684\u8bc4\u8bba(Review)"}),"\n"]}),"\n",(0,i.jsx)(e.mermaid,{value:'flowchart LR\n    subgraph demo.gp.order\n      order["// order.gql\n      &quot;\u4ea7\u54c1&quot;\n      type Product {\n      &emsp;&quot;\u4ea7\u54c1ID&quot;\n      &emsp;id: ID!\n      &emsp;&quot;\u4ea7\u54c1\u540d\u79f0&quot;\n      &emsp;name: String!\n      &emsp;&quot;\u5b9a\u4ef7&quot;\n      &emsp;price: Float!\n      &emsp;&quot;\u8bc4\u8bba\u5217\u8868&quot;\n      &emsp;reviews: [Review!]\n      }\n\n      &quot;\u8ba2\u5355&quot;\n      type Order {\n      &emsp;&quot;\u8ba2\u5355ID&quot;\n      &emsp;id: ID!\n      &emsp;&quot;\u8d2d\u4e70\u7528\u6237&quot;\n      &emsp;user: User!\n      &emsp;&quot;\u4ea7\u54c1\u5217\u8868&quot;\n      &emsp;items: [OrderItem!]!\n      }\n\n      &quot;\u8ba2\u5355\u9879&quot;\n      type OrderItem {\n      &emsp;&quot;\u8ba2\u5355\u9879ID&quot;\n      &emsp;id: ID!\n      &emsp;&quot;\u4ea7\u54c1&quot;\n      &emsp;product: Product!\n      &emsp;&quot;\u8d2d\u4e70\u6570\u91cf&quot;\n      &emsp;quantity: Int!\n      }"]\n    end\n    subgraph demo.gp.review\n      review["// review.gql\n      &quot;\u8bc4\u8bba&quot;\n      type Review {\n      &emsp;&quot;\u8bc4\u8bbaID&quot;\n      &emsp;id: ID!\n      &emsp;&quot;\u8bc4\u8bba\u5185\u5bb9&quot;\n      &emsp;content: String\n      &emsp;&quot;\u8bc4\u5206&quot;\n      &emsp;rating: Float!\n      &emsp;&quot;\u8bc4\u8bba\u4eba&quot;\n      &emsp;user: User!\n      }"]\n    end\n    subgraph demo.gp.user\n      user["// user.gql\n      &quot;\u7528\u6237&quot;\n      type User {\n      &emsp;&quot;\u7528\u6237ID&quot;\n      &emsp;id: ID!\n      &emsp;&quot;\u7528\u6237\u540d&quot;\n      &emsp;name: String!\n      &emsp;&quot;\u7535\u5b50\u90ae\u7bb1&quot;\n      &emsp;email: String\n      &emsp;&quot;\u8054\u7cfb\u65b9\u5f0f&quot;\n      &emsp;phoneNumbers: [String!]\n      &emsp;&quot;\u7528\u6237\u7c7b\u578b&quot;\n      &emsp;userType: UserType!\n      }\n\n      &quot;\u7528\u6237\u7c7b\u578b&quot;\n      enum UserType {\n      &emsp;&quot;\u666e\u901a\u7528\u6237&quot;\n      &emsp;REGULAR\n      &emsp;&quot;\u4f1a\u5458&quot;\n      &emsp;VIP\n      }"]\n    end\n    user -. \u5f15\u7528 .-> review\n    review -. \u5f15\u7528 .-> order\n    user -. \u5f15\u7528 .-> order\n    style order text-align:left\n    style review text-align:left\n    style user text-align:left'}),"\n",(0,i.jsx)(e.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,i.jsx)(e.h3,{id:"protobuf-\u63d2\u4ef6",children:"protobuf \u63d2\u4ef6"}),"\n",(0,i.jsx)(e.p,{children:"\u6a21\u5757\u4e4b\u95f4\u9ed8\u8ba4\u4f7f\u7528 gRPC \u8fdb\u884c\u901a\u8baf, \u9700\u8981\u5f15\u7528\u63d2\u4ef6\u751f\u6210 protobuf \u6587\u4ef6"}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"user-package"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"buildscript {\n    repositories {\n        mavenLocal()\n        jcenter()\n        gradlePluginPortal()\n    }\n    dependencies {\n        // highlight-start\n        classpath 'io.graphoenix:graphoenix-gradle-plugin:0.0.1-SNAPSHOT'\n        // highlight-end\n    }\n}\n\nplugins {\n    id 'java'\n    // highlight-start\n    id 'com.google.protobuf' version '0.9.1'\n    // highlight-end\n}\napply plugin: 'io.graphoenix'\nclasses.dependsOn {\n    generateGraphQLSource\n    // highlight-start\n    generateProtobufV3\n    // highlight-end\n}\n"})}),(0,i.jsx)(e.p,{children:"\u751f\u6210 dto \u548c protobuf"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"./gradlew :user-package:build\n"})})]}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"review-package"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"buildscript {\n    repositories {\n        mavenLocal()\n        jcenter()\n        gradlePluginPortal()\n    }\n    dependencies {\n        // highlight-start\n        classpath 'io.graphoenix:graphoenix-gradle-plugin:0.0.1-SNAPSHOT'\n        // highlight-end\n    }\n}\n\nplugins {\n    id 'java'\n    // highlight-start\n    id 'com.google.protobuf' version '0.9.1'\n    // highlight-end\n}\napply plugin: 'io.graphoenix'\nclasses.dependsOn {\n    generateGraphQLSource\n    // highlight-start\n    generateProtobufV3\n    // highlight-end\n}\n"})}),(0,i.jsx)(e.p,{children:"\u751f\u6210 dto \u548c protobuf"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"./gradlew :review-package:build\n"})})]}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"order-package"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"buildscript {\n    repositories {\n        mavenLocal()\n        jcenter()\n        gradlePluginPortal()\n    }\n    dependencies {\n        // highlight-start\n        classpath 'io.graphoenix:graphoenix-gradle-plugin:0.0.1-SNAPSHOT'\n        // highlight-end\n    }\n}\n\nplugins {\n    id 'java'\n    // highlight-start\n    id 'com.google.protobuf' version '0.9.1'\n    // highlight-end\n}\napply plugin: 'io.graphoenix'\nclasses.dependsOn {\n    generateGraphQLSource\n    // highlight-start\n    generateProtobufV3\n    // highlight-end\n}\n"})}),(0,i.jsx)(e.p,{children:"\u751f\u6210 dto \u548c protobuf"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"./gradlew :order-package:build\n"})})]}),"\n",(0,i.jsx)(e.h3,{id:"\u6a21\u5757package\u4f9d\u8d56",children:"\u6a21\u5757(package)\u4f9d\u8d56"}),"\n",(0,i.jsx)(e.p,{children:"\u5b89\u88c5\u548c\u914d\u7f6e gRPC, \u5f15\u7528\u5176\u4ed6\u6a21\u5757"}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"user-package"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"// highlight-start\n// gRPC \u914d\u7f6e\nprotobuf {\n    protoc {\n        artifact = 'com.google.protobuf:protoc:3.21.7'\n    }\n    plugins {\n        grpc {\n            artifact = 'io.grpc:protoc-gen-grpc-java:1.52.1'\n        }\n        reactor {\n            artifact = 'com.salesforce.servicelibs:reactor-grpc:1.2.3'\n        }\n    }\n    generateProtoTasks {\n        all()*.plugins {\n            grpc {}\n            reactor {}\n        }\n    }\n}\n// highlight-end\n\n// highlight-start\n// gRPC \u76ee\u5f55\u914d\u7f6e\nsourceSets {\n    main {\n        java {\n            srcDirs 'build/generated/source/proto/main/java'\n            srcDirs 'build/generated/source/proto/main/grpc'\n            srcDirs 'build/generated/source/proto/main/reactor'\n        }\n    }\n}\n// highlight-end\n\ndependencies {\n    // highlight-start\n    // \u5f15\u7528\u6838\u5fc3\n    implementation 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    // highlight-end\n    implementation 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    // highlight-start\n    // gRPC \u4f9d\u8d56\n    runtimeOnly 'io.grpc:grpc-netty-shaded:1.52.1'\n    implementation 'io.grpc:grpc-protobuf:1.52.1'\n    implementation 'io.grpc:grpc-stub:1.52.1'\n    implementation 'com.salesforce.servicelibs:reactor-grpc-stub:1.2.3'\n\n    compileOnly 'org.apache.tomcat:annotations-api:6.0.53' // necessary for Java 9+\n    // highlight-end\n\n    annotationProcessor 'io.graphoenix:graphoenix-annotation-processor:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    // highlight-start\n    // \u5f15\u7528\u6838\u5fc3\n    protobuf 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    // highlight-end\n\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n}\n"})})]}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"review-package"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"// highlight-start\n// gRPC \u914d\u7f6e\nprotobuf {\n    protoc {\n        artifact = 'com.google.protobuf:protoc:3.21.7'\n    }\n    plugins {\n        grpc {\n            artifact = 'io.grpc:protoc-gen-grpc-java:1.52.1'\n        }\n        reactor {\n            artifact = 'com.salesforce.servicelibs:reactor-grpc:1.2.3'\n        }\n    }\n    generateProtoTasks {\n        all()*.plugins {\n            grpc {}\n            reactor {}\n        }\n    }\n}\n// highlight-end\n\n// highlight-start\n// gRPC \u76ee\u5f55\u914d\u7f6e\nsourceSets {\n    main {\n        java {\n            srcDirs 'build/generated/source/proto/main/java'\n            srcDirs 'build/generated/source/proto/main/grpc'\n            srcDirs 'build/generated/source/proto/main/reactor'\n        }\n    }\n}\n// highlight-end\n\ndependencies {\n    // highlight-start\n    // \u5f15\u7528\u6838\u5fc3\n    implementation 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    // \u5f15\u7528 User \u6a21\u5757\n    implementation project(':user-package')\n    // highlight-end\n    implementation 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    // highlight-start\n    // gRPC \u4f9d\u8d56\n    runtimeOnly 'io.grpc:grpc-netty-shaded:1.52.1'\n    implementation 'io.grpc:grpc-protobuf:1.52.1'\n    implementation 'io.grpc:grpc-stub:1.52.1'\n    implementation 'com.salesforce.servicelibs:reactor-grpc-stub:1.2.3'\n\n    compileOnly 'org.apache.tomcat:annotations-api:6.0.53' // necessary for Java 9+\n    // highlight-end\n\n    annotationProcessor 'io.graphoenix:graphoenix-annotation-processor:0.0.1-SNAPSHOT'\n    // highlight-start\n    // \u5f15\u7528 User \u6a21\u5757\n    annotationProcessor project(':user-package')\n    // highlight-end\n    annotationProcessor 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    // highlight-start\n    // \u5f15\u7528\u6838\u5fc3\n    protobuf 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    // \u5f15\u7528 User \u6a21\u5757\n    protobuf project(':user-package')\n    // highlight-end\n\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n}\n"})})]}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"order-package"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"// highlight-start\n// gRPC \u914d\u7f6e\nprotobuf {\n    protoc {\n        artifact = 'com.google.protobuf:protoc:3.21.7'\n    }\n    plugins {\n        grpc {\n            artifact = 'io.grpc:protoc-gen-grpc-java:1.52.1'\n        }\n        reactor {\n            artifact = 'com.salesforce.servicelibs:reactor-grpc:1.2.3'\n        }\n    }\n    generateProtoTasks {\n        all()*.plugins {\n            grpc {}\n            reactor {}\n        }\n    }\n}\n// highlight-end\n\n// highlight-start\n// gRPC \u76ee\u5f55\u914d\u7f6e\nsourceSets {\n    main {\n        java {\n            srcDirs 'build/generated/source/proto/main/java'\n            srcDirs 'build/generated/source/proto/main/grpc'\n            srcDirs 'build/generated/source/proto/main/reactor'\n        }\n    }\n}\n// highlight-end\n\ndependencies {\n    // highlight-start\n    // \u5f15\u7528\u6838\u5fc3\n    implementation 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    // \u5f15\u7528 User \u6a21\u5757\n    implementation project(':user-package')\n    // \u5f15\u7528 Review \u6a21\u5757\n    implementation project(':review-package')\n    // highlight-end\n    implementation 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    // highlight-start\n    // gRPC \u4f9d\u8d56\n    runtimeOnly 'io.grpc:grpc-netty-shaded:1.52.1'\n    implementation 'io.grpc:grpc-protobuf:1.52.1'\n    implementation 'io.grpc:grpc-stub:1.52.1'\n    implementation 'com.salesforce.servicelibs:reactor-grpc-stub:1.2.3'\n\n    compileOnly 'org.apache.tomcat:annotations-api:6.0.53' // necessary for Java 9+\n    // highlight-end\n\n    annotationProcessor 'io.graphoenix:graphoenix-annotation-processor:0.0.1-SNAPSHOT'\n    // highlight-start\n    // \u5f15\u7528 User \u6a21\u5757\n    annotationProcessor project(':user-package')\n    // \u5f15\u7528 Review \u6a21\u5757\n    annotationProcessor project(':review-package')\n    // highlight-end\n    annotationProcessor 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    // highlight-start\n    // \u5f15\u7528\u6838\u5fc3\n    protobuf 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    // \u5f15\u7528 User \u6a21\u5757\n    protobuf project(':user-package')\n    // \u5f15\u7528 Review \u6a21\u5757\n    protobuf project(':review-package')\n    // highlight-end\n\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n}\n"})})]}),"\n",(0,i.jsx)(e.h3,{id:"\u670d\u52a1app\u4f9d\u8d56",children:"\u670d\u52a1(app)\u4f9d\u8d56"}),"\n",(0,i.jsx)(e.p,{children:"\u5f15\u7528\u6a21\u5757, \u5b89\u88c5\u670d\u52a1\u4f9d\u8d56"}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"user-app"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\n    // highlight-start\n    // User \u6a21\u5757\n    implementation project(':user-package')\n    // highlight-end\n    implementation 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    implementation 'io.graphoenix:graphoenix-r2dbc:0.0.1-SNAPSHOT'\n    // highlight-start\n    // Http \u670d\u52a1\n    implementation 'io.graphoenix:graphoenix-http-server:0.0.1-SNAPSHOT'\n    // gRPC \u670d\u52a1\n    implementation 'io.graphoenix:graphoenix-grpc-server:0.0.1-SNAPSHOT'\n    // highlight-end\n\n    implementation 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\n\n    // highlight-start\n    // User \u6a21\u5757\n    annotationProcessor project(':user-package')\n    // highlight-end\n    annotationProcessor 'io.graphoenix:graphoenix-annotation-processor:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.graphoenix:graphoenix-sql:0.0.1-SNAPSHOT'\n    // highlight-start\n    // gRPC \u670d\u52a1\n    annotationProcessor 'io.graphoenix:graphoenix-grpc-server:0.0.1-SNAPSHOT'\n    // highlight-end\n}\n"})})]}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"review-app"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\n    // highlight-start\n    // Review \u6a21\u5757\n    implementation project(':review-package')\n    // highlight-end\n    implementation 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    implementation 'io.graphoenix:graphoenix-r2dbc:0.0.1-SNAPSHOT'\n    // highlight-start\n    // Http \u670d\u52a1\n    implementation 'io.graphoenix:graphoenix-http-server:0.0.1-SNAPSHOT'\n    // gRPC \u670d\u52a1\n    implementation 'io.graphoenix:graphoenix-grpc-server:0.0.1-SNAPSHOT'\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\n    implementation 'io.graphoenix:graphoenix-grpc-client:0.0.1-SNAPSHOT'\n    // highlight-end\n\n    implementation 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\n\n    // highlight-start\n    // Review \u6a21\u5757\n    annotationProcessor project(':review-package')\n    // highlight-end\n    annotationProcessor 'io.graphoenix:graphoenix-annotation-processor:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.graphoenix:graphoenix-sql:0.0.1-SNAPSHOT'\n    // highlight-start\n    // gRPC \u670d\u52a1\n    annotationProcessor 'io.graphoenix:graphoenix-grpc-server:0.0.1-SNAPSHOT'\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\n    annotationProcessor 'io.graphoenix:graphoenix-grpc-client:0.0.1-SNAPSHOT'\n    // highlight-end\n}\n"})})]}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"order-app"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\n    // highlight-start\n    // Order \u6a21\u5757\n    implementation project(':order-package')\n    // highlight-end\n    implementation 'io.graphoenix:graphoenix-core:0.0.1-SNAPSHOT'\n    implementation 'io.graphoenix:graphoenix-r2dbc:0.0.1-SNAPSHOT'\n    // highlight-start\n    // Http \u670d\u52a1\n    implementation 'io.graphoenix:graphoenix-http-server:0.0.1-SNAPSHOT'\n    // gRPC \u670d\u52a1\n    implementation 'io.graphoenix:graphoenix-grpc-server:0.0.1-SNAPSHOT'\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\n    implementation 'io.graphoenix:graphoenix-grpc-client:0.0.1-SNAPSHOT'\n    // highlight-end\n\n    implementation 'io.nozdormu:nozdormu-inject:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-async:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-interceptor:0.0.1-SNAPSHOT'\n    implementation 'io.nozdormu:nozdormu-config:0.0.1-SNAPSHOT'\n\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\n\n    // highlight-start\n    // Order \u6a21\u5757\n    annotationProcessor project(':order-package')\n    // highlight-end\n    annotationProcessor 'io.graphoenix:graphoenix-annotation-processor:0.0.1-SNAPSHOT'\n    annotationProcessor 'io.graphoenix:graphoenix-sql:0.0.1-SNAPSHOT'\n    // highlight-start\n    // gRPC \u670d\u52a1\n    annotationProcessor 'io.graphoenix:graphoenix-grpc-server:0.0.1-SNAPSHOT'\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\n    annotationProcessor 'io.graphoenix:graphoenix-grpc-client:0.0.1-SNAPSHOT'\n    // highlight-end\n}\n"})})]}),"\n",(0,i.jsx)(e.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,i.jsx)(e.h3,{id:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1",children:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-conf",metastring:'title="user-app/src/main/resources/application.conf"',children:'r2dbc {\n  driver = "mariadb"\n  database = "user"\n  user = "root"\n  password = "root"\n}\nhttp {\n  port = 8082   //Http \u7aef\u53e3\n}\ngrpc {\n  port = 50053  //gRPC \u7aef\u53e3\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-conf",metastring:'title="review-app/src/main/resources/application.conf"',children:'r2dbc {\n  driver = "mariadb"\n  database = "review"\n  user = "root"\n  password = "root"\n}\nhttp {\n  port = 8081   //Http \u7aef\u53e3\n}\ngrpc {\n  port = 50052  //gRPC \u7aef\u53e3\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-conf",metastring:'title="order-app/src/main/resources/application.conf"',children:'r2dbc {\n  driver = "mariadb"\n  database = "order"\n  user = "root"\n  password = "root"\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u914d\u7f6e\u6a21\u5757\u5730\u5740",children:"\u914d\u7f6e\u6a21\u5757\u5730\u5740"}),"\n",(0,i.jsxs)(e.p,{children:["\u5728 ",(0,i.jsx)(e.code,{children:"package.members"})," \u4e2d\u914d\u7f6e\u6bcf\u4e2a\u6a21\u5757\u7684\u5730\u5740, \u6bcf\u4e2a\u6a21\u5757\u90fd\u53ef\u4ee5\u63d0\u4f9b\u591a\u4e2a\u670d\u52a1\u4f5c\u4e3a\u5197\u4f59"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-conf",metastring:'title="review-app/src/main/resources/application.conf"',children:'package {\n  members: {"demo.gp.user": [{host: "127.0.0.1", port: 50053, protocol: "GRPC"}]}\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-conf",metastring:'title="order-app/src/main/resources/application.conf"',children:'package {\n  members: {"demo.gp.review": [{host: "127.0.0.1", port: 50052, protocol: "GRPC"}], "demo.gp.user": [{host: "127.0.0.1", port: 50053, protocol: "GRPC"}]}\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u542f\u52a8",children:"\u542f\u52a8"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Run/Debug user-app/src/main/java/demo/gp/user/App.java"}),"\n",(0,i.jsx)(e.li,{children:"Run/Debug review-app/src/main/java/demo/gp/review/App.java"}),"\n",(0,i.jsx)(e.li,{children:"Run/Debug order-app/src/main/java/demo/gp/order/App.java"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"start",src:r(7500).A+"",title:"start",width:"1000",height:"538"})}),"\n",(0,i.jsx)(e.h2,{id:"\u67e5\u8be2\u548c\u53d8\u66f4",children:"\u67e5\u8be2\u548c\u53d8\u66f4"}),"\n",(0,i.jsx)(e.p,{children:"\u67b6\u6784\u7684\u5207\u6362\u4e0d\u4f1a\u6539\u53d8\u67e5\u8be2\u548c\u53d8\u66f4\u7684\u4f7f\u7528, Graphoenix \u901a\u8fc7\u5e95\u5c42\u6280\u672f\u5c4f\u853d\u4e0d\u540c\u67b6\u6784\u7684\u5dee\u5f02, \u8ba9\u63a5\u53e3\u5c42\u7684\u8868\u73b0\u4fdd\u6301\u4e00\u81f4"}),"\n",(0,i.jsxs)(a,{children:[(0,i.jsx)("summary",{children:"\u6d4b\u8bd5\u6570\u636e"}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-graphql",children:'mutation {\n  userList(\n    list: [\n      { id: "1", name: "Alice", email: "alice@example.com", userType: VIP }\n      { id: "2", name: "Bob", email: "bob@example.com", userType: REGULAR }\n      { id: "3", name: "Charlie", email: "charlie@example.com", userType: VIP }\n      { id: "4", name: "Diana", email: "diana@example.com", userType: REGULAR }\n      { id: "5", name: "Edward", email: "edward@example.com", userType: VIP }\n      { id: "6", name: "Fiona", email: "fiona@example.com", userType: REGULAR }\n      { id: "7", name: "George", email: "george@example.com", userType: VIP }\n      {\n        id: "8"\n        name: "Hannah"\n        email: "hannah@example.com"\n        userType: REGULAR\n      }\n      { id: "9", name: "Ian", email: "ian@example.com", userType: VIP }\n      { id: "10", name: "Jane", email: "jane@example.com", userType: REGULAR }\n      { id: "11", name: "Kyle", email: "kyle@example.com", userType: VIP }\n      { id: "12", name: "Laura", email: "laura@example.com", userType: REGULAR }\n      { id: "13", name: "Mike", email: "mike@example.com", userType: VIP }\n      { id: "14", name: "Nina", email: "nina@example.com", userType: REGULAR }\n      { id: "15", name: "Oliver", email: "oliver@example.com", userType: VIP }\n      { id: "16", name: "Paula", email: "paula@example.com", userType: REGULAR }\n      { id: "17", name: "Quentin", email: "quentin@example.com", userType: VIP }\n      {\n        id: "18"\n        name: "Rachel"\n        email: "rachel@example.com"\n        userType: REGULAR\n      }\n      { id: "19", name: "Steve", email: "steve@example.com", userType: VIP }\n      { id: "20", name: "Tina", email: "tina@example.com", userType: REGULAR }\n    ]\n  ) {\n    id\n  }\n  reviewList(\n    list: [\n      {\n        id: "1"\n        content: "Great laptop, very fast and reliable."\n        rating: 5\n        user: { where: { id: { val: "10" } } }\n      }\n      {\n        id: "2"\n        content: "Decent laptop but a bit expensive."\n        rating: 4\n        user: { where: { id: { val: "8" } } }\n      }\n      {\n        id: "3"\n        content: "The phone is amazing, camera quality is top-notch."\n        rating: 5\n        user: { where: { id: { val: "6" } } }\n      }\n      {\n        id: "4"\n        content: "Tablet is good for the price."\n        rating: 4\n        user: { where: { id: { val: "4" } } }\n      }\n    ]\n  ) {\n    id\n  }\n  productList(\n    list: [\n      {\n        id: "1"\n        name: "Laptop"\n        price: 999.99\n        reviews: [\n          { where: { id: { val: "1" } } }\n          { where: { id: { val: "2" } } }\n        ]\n      }\n      {\n        id: "2"\n        name: "Phone"\n        price: 499.99\n        reviews: [{ where: { id: { val: "3" } } }]\n      }\n      {\n        id: "3"\n        name: "Tablet"\n        price: 299.99\n        reviews: [{ where: { id: { val: "4" } } }]\n      }\n      { id: "4", name: "Monitor", price: 199.99 }\n      { id: "5", name: "Keyboard", price: 49.99 }\n    ]\n  ) {\n    id\n  }\n  orderList(\n    list: [\n      {\n        user: { where: { id: { val: "1" } } }\n        items: [\n          { product: { where: { id: { val: "1" } } }, quantity: 1 }\n          { product: { where: { id: { val: "3" } } }, quantity: 2 }\n        ]\n      }\n      {\n        user: { where: { id: { val: "2" } } }\n        items: [{ product: { where: { id: { val: "2" } } }, quantity: 1 }]\n      }\n      {\n        user: { where: { id: { val: "3" } } }\n        items: [\n          { product: { where: { id: { val: "4" } } }, quantity: 2 }\n          { product: { where: { id: { val: "5" } } }, quantity: 3 }\n        ]\n      }\n      {\n        user: { where: { id: { val: "4" } } }\n        items: [\n          { product: { where: { id: { val: "1" } } }, quantity: 1 }\n          { product: { where: { id: { val: "2" } } }, quantity: 1 }\n          { product: { where: { id: { val: "3" } } }, quantity: 1 }\n        ]\n      }\n    ]\n  ) {\n    id\n  }\n}\n'})})]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\u4f8b: \u67e5\u8be2\u7528\u6237 Alice \u7684\u8ba2\u5355"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-graphql",children:'{\n  orderList(user: { name: { val: "Alice" } }) {\n    items {\n      product {\n        name\n      }\n      quantity\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "orderList": [\n      {\n        "items": [\n          {\n            "product": {\n              "name": "Laptop"\n            },\n            "quantity": 1\n          },\n          {\n            "product": {\n              "name": "Tablet"\n            },\n            "quantity": 2\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"\u4f8b: \u67e5\u8be2\u8bc4\u4ef7 4 \u5206\u4ee5\u4e0a\u7684\u4ea7\u54c1"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-graphql",children:"{\n  productList(reviews: { rating: { opr: GT, val: 4 } }) {\n    name\n    price\n    reviews {\n      content\n      rating\n      user {\n        name\n      }\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "productList": [\n      {\n        "name": "Laptop",\n        "price": 999.99,\n        "reviews": [\n          {\n            "content": "Great laptop, very fast and reliable.",\n            "rating": 5,\n            "user": {\n              "name": "Jane"\n            }\n          },\n          {\n            "content": "Decent laptop but a bit expensive.",\n            "rating": 4,\n            "user": {\n              "name": "Hannah"\n            }\n          }\n        ]\n      },\n      {\n        "name": "Phone",\n        "price": 499.99,\n        "reviews": [\n          {\n            "content": "The phone is amazing, camera quality is top-notch.",\n            "rating": 5,\n            "user": {\n              "name": "Fiona"\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,i.jsxs)(e.ol,{start:"3",children:["\n",(0,i.jsx)(e.li,{children:"\u4f8b: \u540c\u65f6\u65b0\u589e\u4ea7\u54c1, \u8bc4\u8bba\u548c\u7528\u6237"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-graphql",children:'mutation {\n  product(\n    name: "Mouse"\n    price: 25.99\n    reviews: [\n      {\n        content: "Been using this mouse for quite some time with no concerns. "\n        rating: 4\n        user: { name: "Victor", userType: VIP }\n      }\n    ]\n  ) {\n    name\n    price\n    reviews {\n      content\n      rating\n      user {\n        name\n        userType\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "product": {\n      "name": "Mouse",\n      "price": 25.99,\n      "reviews": [\n        {\n          "content": "Been using this mouse for quite some time with no concerns. ",\n          "rating": 4,\n          "user": {\n            "name": "Victor",\n            "userType": "VIP"\n          }\n        }\n      ]\n    }\n  }\n}\n'})})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},7500:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/start-69447b15a5555c64556d832b2ac62a0b.png"},5710:(n,e,r)=>{r.d(e,{R:()=>t,x:()=>s});var i=r(758);const o={},a=i.createContext(o);function t(n){const e=i.useContext(a);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);