"use strict";(self.webpackChunkgp_doc_github_io=self.webpackChunkgp_doc_github_io||[]).push([[189],{5433:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var r=i(6070),a=i(5710);const s={sidebar_position:4},t="\u53d8\u66f4(mutation)",l={id:"tutorial/mutation",title:"\u53d8\u66f4(mutation)",description:"\u5feb\u901f\u6d4f\u89c8\u53d8\u66f4\u793a\u4f8b.",source:"@site/docs/tutorial/mutation.md",sourceDirName:"tutorial",slug:"/tutorial/mutation",permalink:"/docs/tutorial/mutation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"\u67e5\u8be2(query)",permalink:"/docs/tutorial/query"},next:{title:"\u6307\u5357",permalink:"/docs/category/\u6307\u5357"}},d={},o=[{value:"\u57fa\u672c\u53d8\u66f4",id:"\u57fa\u672c\u53d8\u66f4",level:2},{value:"1. \u65b0\u589e\u7528\u6237Uma",id:"1-\u65b0\u589e\u7528\u6237uma",level:3},{value:"2. \u65b0\u589e\u7528\u6237Victor\u548cWendy",id:"2-\u65b0\u589e\u7528\u6237victor\u548cwendy",level:3},{value:"3. \u65b0\u589e\u7528\u6237Xander, \u540c\u65f6\u8d2d\u4e70\u65b0\u589e\u7684\u4ea7\u54c1Mouse",id:"3-\u65b0\u589e\u7528\u6237xander-\u540c\u65f6\u8d2d\u4e70\u65b0\u589e\u7684\u4ea7\u54c1mouse",level:3},{value:"\u66f4\u65b0",id:"\u66f4\u65b0",level:2},{value:"1. \u901a\u8fc7ID\u7c7b\u578b\u5b57\u6bb5\u66f4\u65b0Uma\u7684\u7528\u6237\u7c7b\u578b",id:"1-\u901a\u8fc7id\u7c7b\u578b\u5b57\u6bb5\u66f4\u65b0uma\u7684\u7528\u6237\u7c7b\u578b",level:3},{value:"2. \u901a\u8fc7where\u5b57\u6bb5\u66f4\u65b0Uma\u7684\u7528\u6237\u7c7b\u578b",id:"2-\u901a\u8fc7where\u5b57\u6bb5\u66f4\u65b0uma\u7684\u7528\u6237\u7c7b\u578b",level:3}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"\u53d8\u66f4mutation",children:"\u53d8\u66f4(mutation)"}),"\n",(0,r.jsx)(e.p,{children:"\u5feb\u901f\u6d4f\u89c8\u53d8\u66f4\u793a\u4f8b."}),"\n",(0,r.jsx)(e.p,{children:"\u53d8\u66f4\u5305\u542b\u65b0\u589e(Insert)\u548c\u66f4\u65b0(Update)\u4e24\u79cd\u64cd\u4f5c, \u5728GraphQL\u7684\u57fa\u7840\u4e4b\u4e0a, \u6211\u4eec\u89c4\u5b9a:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6bcf\u4e2aObject",(0,r.jsx)(e.strong,{children:"\u6709\u4e14\u4ec5\u67091\u4e2aID\u7c7b\u578b\u7684\u5b57\u6bb5"})]}),"\n",(0,r.jsx)(e.li,{children:"\u5728\u53d8\u66f4\u65f6, \u5982\u679cID\u7c7b\u578b\u7684\u5b57\u6bb5\u4e3a\u7a7a, \u5219\u65b0\u589e, ID\u5b57\u6bb5\u7531\u6570\u636e\u5e93\u81ea\u52a8\u751f\u6210"}),"\n",(0,r.jsx)(e.li,{children:"\u5728\u53d8\u66f4\u65f6, \u5982\u679cID\u7c7b\u578b\u7684\u5b57\u6bb5\u4e0d\u4e3a\u7a7a, \u5219\u7531\u6570\u636e\u5e93\u5224\u65ad, \u6570\u636e\u5e93\u5305\u542b\u8be5\u503c\u65f6\u66f4\u65b0, \u53cd\u4e4b\u5219\u8fdb\u884c\u65b0\u589e"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u53e6\u5916, \u67e5\u8be2(query)\u5b57\u6bb5\u65f6, \u662f\u5e76\u884c\u6267\u884c, \u800c",(0,r.jsx)(e.strong,{children:"\u53d8\u66f4(mutation)\u5b57\u6bb5\u65f6, \u662f\u7ebf\u6027\u6267\u884c, \u4e00\u4e2a\u63a5\u7740\u4e00\u4e2a"})]}),"\n",(0,r.jsx)(e.h2,{id:"\u57fa\u672c\u53d8\u66f4",children:"\u57fa\u672c\u53d8\u66f4"}),"\n",(0,r.jsx)(e.p,{children:"\u53d8\u66f4\u5355\u4e2a: \u7c7b\u578b\u540d => camelCase (\u4f8b: User => user)"}),"\n",(0,r.jsx)(e.p,{children:"\u53d8\u66f4\u5217\u8868: \u7c7b\u578b\u540d => camelCase + List (\u4f8b: User => userList)"}),"\n",(0,r.jsx)(e.h3,{id:"1-\u65b0\u589e\u7528\u6237uma",children:"1. \u65b0\u589e\u7528\u6237Uma"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'mutation {\n  user(name: "Uma" email: "uma@example.com" userType: VIP phoneNumbers: ["13918124629", "18536492446"]) {\n    id\n    name\n    email\n    phoneNumbers\n    userType\n  }\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6570\u636e\u5e93\u81ea\u52a8\u751f\u6210id"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n    // highlight-start\n      "id": "21",\n    // highlight-end\n      "name": "Uma",\n      "email": "uma@example.com",\n      "phoneNumbers": [\n        "13918124629",\n        "18536492446"\n      ],\n      "userType": "VIP"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-\u65b0\u589e\u7528\u6237victor\u548cwendy",children:"2. \u65b0\u589e\u7528\u6237Victor\u548cWendy"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'mutation {\n  userList(list: [\n    {name: "Victor" email: "victor@example.com" userType: REGULAR phoneNumbers: ["17250165257", "15548312357"]},\n    {id: "23" name: "Wendy" email: "wendy@example.com" userType: VIP phoneNumbers: ["19703870624"]}\n  ]) {\n    id\n    name\n    email\n    phoneNumbers\n    userType\n  }\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"Victor\u7684id\u7531\u6570\u636e\u5e93\u751f\u6210, Wendy\u7684id\u662f\u53d8\u66f4\u65f6\u6307\u5b9a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "userList": [\n      {\n        // highlight-start\n        "id": "22",\n        // highlight-end\n        "name": "Victor",\n        "email": "victor@example.com",\n        "phoneNumbers": [\n          "17250165257",\n          "15548312357"\n        ],\n        "userType": "REGULAR"\n      },\n      {\n        // highlight-start\n        "id": "23",\n        // highlight-end\n        "name": "Wendy",\n        "email": "wendy@example.com",\n        "phoneNumbers": [\n          "19703870624"\n        ],\n        "userType": "VIP"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-\u65b0\u589e\u7528\u6237xander-\u540c\u65f6\u8d2d\u4e70\u65b0\u589e\u7684\u4ea7\u54c1mouse",children:"3. \u65b0\u589e\u7528\u6237Xander, \u540c\u65f6\u8d2d\u4e70\u65b0\u589e\u7684\u4ea7\u54c1Mouse"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'mutation {\n  user(name: "Xander" email: "xander@example.com" userType: REGULAR \n    orders: [{items: [{product: {name: "Mouse" price: 25.99} quantity: 2}]}]\n  ) {\n    id\n    name\n    email\n    userType\n    orders {\n      items {\n        product {\n          name\n        }\n        quantity\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6570\u636e\u5e93\u81ea\u52a8\u751f\u6210id"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n      "id": "24",\n      "name": "Xander",\n      "email": "xander@example.com",\n      "userType": "REGULAR",\n      "orders": [\n        {\n          "items": [\n            {\n              "product": {\n                "name": "Mouse"\n              },\n              "quantity": 2\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:"query {\n  productList {\n    id\n    name\n    price\n  }\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u65b0\u589e\u4ea7\u54c1Mouse"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "productList": [\n      {\n        "id": "1",\n        "name": "Laptop",\n        "price": 999.99\n      },\n      {\n        "id": "2",\n        "name": "Phone",\n        "price": 499.99\n      },\n      {\n        "id": "3",\n        "name": "Tablet",\n        "price": 299.99\n      },\n      {\n        "id": "4",\n        "name": "Monitor",\n        "price": 199.99\n      },\n      {\n        "id": "5",\n        "name": "Keyboard",\n        "price": 49.99\n      },\n    // highlight-start\n      {\n        "id": "6",\n        "name": "Mouse",\n        "price": 25.99\n      }\n    // highlight-end\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u66f4\u65b0",children:"\u66f4\u65b0"}),"\n",(0,r.jsx)(e.h3,{id:"1-\u901a\u8fc7id\u7c7b\u578b\u5b57\u6bb5\u66f4\u65b0uma\u7684\u7528\u6237\u7c7b\u578b",children:"1. \u901a\u8fc7ID\u7c7b\u578b\u5b57\u6bb5\u66f4\u65b0Uma\u7684\u7528\u6237\u7c7b\u578b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'mutation {\n  user(id: "21" name: "Uma" userType: REGULAR) {\n    id\n    name\n    userType\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n      "id": "21",\n      "name": "Uma",\n    // highlight-start\n      "userType": "REGULAR"\n    // highlight-end\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-\u901a\u8fc7where\u5b57\u6bb5\u66f4\u65b0uma\u7684\u7528\u6237\u7c7b\u578b",children:"2. \u901a\u8fc7where\u5b57\u6bb5\u66f4\u65b0Uma\u7684\u7528\u6237\u7c7b\u578b"}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u4e9b\u65f6\u5019Object\u4e2d\u5b58\u5728\u975e\u7a7a\u5b57\u6bb5, \u4f8b\u5982User\u7684name\u5b57\u6bb5, \u9700\u8981\u5728\u66f4\u65b0\u65f6\u989d\u5916\u8f93\u5165, \u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528where\u5b57\u6bb5\u8fdb\u884c\u66f4\u65b0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-graphql",children:'mutation {\n  user(userType: VIP where: {id: {opr: EQ val: "21"}}) {\n    id\n    name\n    userType\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n      "id": "21",\n      "name": "Uma",\n    // highlight-start\n      "userType": "VIP"\n    // highlight-end\n    }\n  }\n}\n'})})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},5710:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>l});var r=i(758);const a={},s=r.createContext(a);function t(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:t(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);