"use strict";(self.webpackChunkgp_doc_github_io=self.webpackChunkgp_doc_github_io||[]).push([[5671],{8286:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>d,metadata:()=>t,toc:()=>h});var s=n(6070),l=n(5710);const d={sidebar_position:3},i="\u5173\u7cfb",t={id:"guide/relationship",title:"\u5173\u7cfb",description:"\u5728\u5efa\u6a21\u4e2d\uff0c\u5173\u7cfb\u6620\u5c04 (Relationship Mapping) \u662f\u6307\u5728\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04 (ORM) \u4e2d\u5b9a\u4e49\u5b9e\u4f53\u4e4b\u95f4\u5173\u7cfb\u7684\u8fc7\u7a0b. \u5173\u7cfb\u6620\u5c04\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u548c\u7ba1\u7406\u6570\u636e\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u8054. \u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u5173\u7cfb\uff1a",source:"@site/docs/guide/relationship.md",sourceDirName:"guide",slug:"/guide/relationship",permalink:"/docs/guide/relationship",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"\u7c7b\u578b",permalink:"/docs/guide/types"},next:{title:"\u5f02\u5e38",permalink:"/docs/guide/errors"}},o={},h=[{value:"\u5173\u7cfb\u6784\u5efa",id:"\u5173\u7cfb\u6784\u5efa",level:2},{value:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4",id:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4",level:2},{value:"@map",id:"map",level:3},{value:"@fetch",id:"fetch",level:3},{value:"With",id:"with",level:3},{value:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04",id:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04",level:2},{value:"\u4e00\u5bf9\u4e00\u5173\u7cfb (One-to-One)",id:"\u4e00\u5bf9\u4e00\u5173\u7cfb-one-to-one",level:3},{value:"\u4e00\u5bf9\u591a\u5173\u7cfb (One-to-Many)",id:"\u4e00\u5bf9\u591a\u5173\u7cfb-one-to-many",level:3},{value:"\u591a\u5bf9\u591a\u5173\u7cfb (Many-to-Many)",id:"\u591a\u5bf9\u591a\u5173\u7cfb-many-to-many",level:3},{value:"\u81ea\u5f15\u7528\u5173\u7cfb (Self-Referencing)",id:"\u81ea\u5f15\u7528\u5173\u7cfb-self-referencing",level:3}];function a(r){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...r.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"\u5173\u7cfb",children:"\u5173\u7cfb"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u5efa\u6a21\u4e2d\uff0c\u5173\u7cfb\u6620\u5c04 (Relationship Mapping) \u662f\u6307\u5728\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04 (ORM) \u4e2d\u5b9a\u4e49\u5b9e\u4f53\u4e4b\u95f4\u5173\u7cfb\u7684\u8fc7\u7a0b. \u5173\u7cfb\u6620\u5c04\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u548c\u7ba1\u7406\u6570\u636e\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u8054. \u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u5173\u7cfb\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u4e00\u5bf9\u4e00\u5173\u7cfb (One-to-One Relationship)"})," :"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5728\u8fd9\u79cd\u5173\u7cfb\u4e2d, \u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u4ec5\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u76f8\u5173\u8054. \u4f8b\u5982, \u4e00\u4e2a\u4eba\u5bf9\u5e94\u4e00\u4e2a\u62a4\u7167. \u5b9e\u73b0\u65b9\u5f0f\u901a\u5e38\u662f\u5728\u5176\u4e2d\u4e00\u4e2a\u5b9e\u4f53\u7684\u8868\u4e2d\u5305\u542b\u53e6\u4e00\u4e2a\u5b9e\u4f53\u7684\u4e3b\u952e\u4f5c\u4e3a\u5916\u952e"}),"\n",(0,s.jsx)(e.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u5728\u4e00\u4e2a\u8868\u4e2d\u6dfb\u52a0\u552f\u4e00\u5916\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u4e00\u5bf9\u591a\u5173\u7cfb (One-to-Many Relationship)"})," :"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u8fd9\u662f\u6700\u5e38\u89c1\u7684\u5173\u7cfb\u7c7b\u578b, \u5176\u4e2d\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u53ef\u4ee5\u5173\u8054\u591a\u4e2a\u53e6\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b. \u4f8b\u5982, \u4e00\u4e2a\u5ba2\u6237\u53ef\u4ee5\u6709\u591a\u4e2a\u8ba2\u5355. \u5b9e\u73b0\u65b9\u5f0f\u662f\u5728 \u201c\u591a\u201d \u4e00\u65b9\u7684\u8868\u4e2d\u6dfb\u52a0 \u201c\u5355\u201d \u4e00\u65b9\u7684\u4e3b\u952e\u4f5c\u4e3a\u5916\u952e"}),"\n",(0,s.jsx)(e.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u5728 \u201c\u591a\u201d \u4e00\u65b9\u7684\u8868\u4e2d\u6dfb\u52a0\u5916\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u591a\u5bf9\u591a\u5173\u7cfb (Many-to-Many Relationship)"})," :"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5728\u8fd9\u79cd\u5173\u7cfb\u4e2d, \u591a\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u53ef\u4ee5\u4e0e\u591a\u4e2a\u53e6\u4e00\u4e2a\u5b9e\u4f53\u5b9e\u4f8b\u76f8\u5173\u8054. \u4f8b\u5982, \u4e00\u4e2a\u5b66\u751f\u53ef\u4ee5\u9009\u4fee\u591a\u95e8\u8bfe\u7a0b, \u4e00\u95e8\u8bfe\u7a0b\u4e5f\u53ef\u4ee5\u6709\u591a\u4e2a\u5b66\u751f\u9009\u4fee. \u5b9e\u73b0\u65b9\u5f0f\u662f\u4f7f\u7528\u4e00\u4e2a\u4e2d\u95f4\u8868 (\u4e5f\u53eb\u5173\u8054\u8868\u6216\u4ea4\u53c9\u8868) \u6765\u5b58\u50a8\u4e24\u4e2a\u5b9e\u4f53\u7684\u4e3b\u952e"}),"\n",(0,s.jsx)(e.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u4e2d\u95f4\u8868\u6765\u5305\u542b\u4e24\u4e2a\u5b9e\u4f53\u7684\u4e3b\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u81ea\u5f15\u7528\u5173\u7cfb (Self-Referencing Relationship)"})," :"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u8fd9\u662f\u6307\u4e00\u4e2a\u5b9e\u4f53\u4e0e\u5b83\u81ea\u5df1\u6709\u5173\u7cfb. \u4f8b\u5982, \u4e00\u4e2a\u5458\u5de5\u53ef\u4ee5\u6709\u4e00\u4e2a\u7ecf\u7406, \u8fd9\u4e2a\u7ecf\u7406\u4e5f\u662f\u5458\u5de5. \u5b9e\u73b0\u65b9\u5f0f\u662f\u5728\u540c\u4e00\u4e2a\u8868\u4e2d\u4f7f\u7528\u5916\u952e\u6307\u5411\u81ea\u8eab\u7684\u4e3b\u952e"}),"\n",(0,s.jsx)(e.li,{children:"\u5728\u6570\u636e\u5e93\u4e2d, \u53ef\u4ee5\u901a\u8fc7\u5728\u8868\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u5916\u952e\u5217\u6765\u5f15\u7528\u540c\u4e00\u4e2a\u8868\u7684\u4e3b\u952e\u6765\u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u5173\u7cfb\u6784\u5efa",children:"\u5173\u7cfb\u6784\u5efa"}),"\n",(0,s.jsx)(e.p,{children:"Graphoenix \u6839\u636e GraphQL \u7c7b\u578b\u5b9a\u4e49\u81ea\u52a8\u5206\u6790\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u6620\u5c04, \u9ed8\u8ba4\u4e3a\u6240\u6709\u5bf9\u8c61\u5173\u7cfb\u521b\u5efa\u591a\u5bf9\u591a\u5173\u7cfb(Many-to-Many)"}),"\n",(0,s.jsx)(e.mermaid,{value:'flowchart LR\r\n    gp((Graphoenix))\r\n    user["type User {\r\n    &emsp;roles: [Role]\r\n    &emsp;groups: [Group]\r\n    }"]\r\n    role["type Role {\r\n    &emsp;users: [User]\r\n    &emsp;groups: [Group]\r\n    }"]\r\n    group["type Group {\r\n    &emsp;users: [User]\r\n    &emsp;roles: [Role]\r\n    }"]\r\n    userRole["type UserRoleRelation {\r\n    &emsp;user: User\r\n    &emsp;role: Role\r\n    }"]\r\n    userGroup["type UserGroupRelation {\r\n    &emsp;user: User\r\n    &emsp;group: Group\r\n    }"]\r\n    groupRole["type GroupRoleRelation {\r\n    &emsp;group: Group\r\n    &emsp;role: Role\r\n    }"]\r\n    user <-.-> userRole\r\n    role <-.-> userRole\r\n    user -- \u5b9a\u4e49 --\x3e gp\r\n    role -- \u5b9a\u4e49 --\x3e gp\r\n    group -- \u5b9a\u4e49 --\x3e gp\r\n    gp -- \u751f\u6210 --\x3e userRole\r\n    user <-.-> userGroup\r\n    gp -- \u751f\u6210 --\x3e userGroup\r\n    gp -- \u751f\u6210 --\x3e groupRole\r\n    group <-.-> userGroup\r\n    role <-.-> groupRole\r\n    group <-.-> groupRole\r\n    style user text-align:left\r\n    style role text-align:left\r\n    style group text-align:left\r\n    style userRole text-align:left\r\n    style userGroup text-align:left\r\n    style groupRole text-align:left'}),"\n",(0,s.jsx)(e.h2,{id:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4",children:"\u5173\u7cfb\u6620\u5c04\u6307\u4ee4"}),"\n",(0,s.jsxs)(e.p,{children:["Graphoenix \u63d0\u4f9b ",(0,s.jsx)(e.a,{href:"#map",children:(0,s.jsx)(e.code,{children:"@map"})})," \u548c ",(0,s.jsx)(e.a,{href:"#fetch",children:(0,s.jsx)(e.code,{children:"@fetch"})})," \u4e24\u4e2a\u6307\u4ee4\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04"]}),"\n",(0,s.jsx)(e.h3,{id:"map",children:"@map"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u6570\u636e\u5e93\u5c42\u8fdb\u884c\u6620\u5c04, \u4f7f\u7528\u5173\u7cfb\u578b\u6570\u636e\u5e93 JOIN \u8bed\u53e5\u7ec4\u5408\u5173\u8054\u5bf9\u8c61"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5c5e\u6027"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u8bf4\u660e"}),(0,s.jsx)(e.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"from"}),(0,s.jsx)(e.td,{children:"String!"}),(0,s.jsx)(e.td,{children:"\u6e90\u5b57\u6bb5"}),(0,s.jsx)(e.td,{children:"\u901a\u8fc7\u4e0e\u76ee\u6807\u5b57\u6bb5(to)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"to"}),(0,s.jsx)(e.td,{children:"String"}),(0,s.jsx)(e.td,{children:"\u76ee\u6807\u5b57\u6bb5"}),(0,s.jsx)(e.td,{children:"\u901a\u8fc7\u4e0e\u6e90\u5b57\u6bb5(from)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"with"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"#with",children:"With"})}),(0,s.jsx)(e.td,{children:"\u5173\u7cfb\u5bf9\u8c61"}),(0,s.jsx)(e.td,{children:"\u591a\u5bf9\u591a\u5173\u7cfb\u6620\u5c04\u7684\u5173\u7cfb\u5bf9\u8c61"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"anchor"}),(0,s.jsx)(e.td,{children:"Boolean"}),(0,s.jsx)(e.td,{children:"\u951a\u70b9"}),(0,s.jsx)(e.td,{children:"\u951a\u70b9\u8868\u793a\u6e90\u5b57\u6bb5\u50a8\u5b58\u76ee\u6807\u5b57\u6bb5\u7684\u8fd4\u56de\u503c, \u901a\u5e38\u60c5\u51b5\u4e0b\u76ee\u6807\u5b57\u6bb5\u4e3aID\u7c7b\u578b\u65f6\u9ed8\u8ba4\u4e3a\u951a\u70b9"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"fetch",children:"@fetch"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u5e94\u7528\u5c42\u8fdb\u884c\u6620\u5c04, \u5728\u5e94\u7528\u5c42\u5bf9\u5173\u8054\u5bf9\u8c61\u8fdb\u884c\u7ec4\u5408, \u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u573a\u666f\u548c\u4e0d\u652f\u6301\u5173\u7cfb\u6620\u5c04\u7684\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5c5e\u6027"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u8bf4\u660e"}),(0,s.jsx)(e.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"from"}),(0,s.jsx)(e.td,{children:"String!"}),(0,s.jsx)(e.td,{children:"\u6e90\u5b57\u6bb5"}),(0,s.jsx)(e.td,{children:"\u901a\u8fc7\u4e0e\u76ee\u6807\u5b57\u6bb5(to)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"to"}),(0,s.jsx)(e.td,{children:"String"}),(0,s.jsx)(e.td,{children:"\u76ee\u6807\u5b57\u6bb5"}),(0,s.jsx)(e.td,{children:"\u901a\u8fc7\u4e0e\u6e90\u5b57\u6bb5(from)\u6784\u5efa\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"with"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"#with",children:"With"})}),(0,s.jsx)(e.td,{children:"\u5173\u7cfb\u5bf9\u8c61"}),(0,s.jsx)(e.td,{children:"\u591a\u5bf9\u591a\u5173\u7cfb\u6620\u5c04\u7684\u5173\u7cfb\u5bf9\u8c61"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"anchor"}),(0,s.jsx)(e.td,{children:"Boolean"}),(0,s.jsx)(e.td,{children:"\u951a\u70b9"}),(0,s.jsx)(e.td,{children:"\u951a\u70b9\u8868\u793a\u6e90\u5b57\u6bb5\u50a8\u5b58\u76ee\u6807\u5b57\u6bb5\u7684\u8fd4\u56de\u503c, \u901a\u5e38\u60c5\u51b5\u4e0b\u76ee\u6807\u5b57\u6bb5\u4e3aID\u7c7b\u578b\u65f6\u9ed8\u8ba4\u4e3a\u951a\u70b9"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"protocol"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"/docs/guide/types#protocol",children:"Protocol"})}),(0,s.jsx)(e.td,{children:"\u901a\u8baf\u7c7b\u578b"}),(0,s.jsx)(e.td,{children:"\u5206\u5e03\u5f0f\u573a\u666f\u4e0b\u7684\u901a\u8baf\u534f\u8bae, \u9ed8\u8ba4\u65e0\u9700\u8bbe\u7f6e"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"with",children:"With"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5c5e\u6027"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u8bf4\u660e"}),(0,s.jsx)(e.th,{children:"\u5907\u6ce8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"type"}),(0,s.jsx)(e.td,{children:"String"}),(0,s.jsx)(e.td,{children:"\u5173\u7cfb\u5bf9\u8c61\u540d"}),(0,s.jsx)(e.td,{children:"\u591a\u5bf9\u591a\u5173\u7cfb\u6620\u5c04\u7684\u5173\u7cfb\u5bf9\u8c61\u540d\u79f0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"from"}),(0,s.jsx)(e.td,{children:"String"}),(0,s.jsx)(e.td,{children:"\u6e90\u5bf9\u8c61\u6620\u5c04\u5b57\u6bb5"}),(0,s.jsx)(e.td,{children:"\u901a\u8fc7\u4e0e\u6e90\u5bf9\u8c61(from)\u7684\u539f\u5b57\u6bb5\u8fdb\u884c\u5173\u8054"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"to"}),(0,s.jsx)(e.td,{children:"String"}),(0,s.jsx)(e.td,{children:"\u76ee\u6807\u5bf9\u8c61\u6620\u5c04\u5b57\u6bb5"}),(0,s.jsx)(e.td,{children:"\u901a\u8fc7\u4e0e\u76ee\u6807\u5bf9\u8c61\u7684\u76ee\u6807\u5b57\u6bb5(to)\u8fdb\u884c\u5173\u8054"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04",children:"\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u67d0\u4e9b\u573a\u666f\u4e0b, Graphoenix \u9ed8\u8ba4\u7684\u5173\u7cfb\u6784\u5efa\u5e76\u4e0d\u80fd\u6ee1\u8db3\u5b9e\u9645\u9700\u6c42, \u9700\u8981\u81ea\u5b9a\u4e49\u5173\u7cfb\u6620\u5c04:"}),"\n",(0,s.jsx)(e.h3,{id:"\u4e00\u5bf9\u4e00\u5173\u7cfb-one-to-one",children:"\u4e00\u5bf9\u4e00\u5173\u7cfb (One-to-One)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-graphql",children:'"\u7528\u6237"\r\ntype User {\r\n    "ID"\r\n    id: ID\r\n    "\u59d3\u540d"\r\n    name: String!\r\n    "\u8d44\u6599"\r\n    profile: Profile @map(from: "id", to: "profileId")\r\n}\r\n\r\n"\u7ec4"\r\ntype Profile {\r\n    "ID"\r\n    id: ID\r\n    "\u540d\u79f0"\r\n    email: String!\r\n    "\u7528\u6237"\r\n    user: User @map(from: "userId", to: "id")\r\n}\n'})}),"\n",(0,s.jsx)(e.mermaid,{value:"flowchart LR\r\n    subgraph User\r\n      userId[id]\r\n      userName[name]\r\n    end\r\n    subgraph Profile\r\n      profileId[id]\r\n      profileEmail[email]\r\n      profileUserId[userId]\r\n    end\r\n    userId <-- \u6620\u5c04 --\x3e profileUserId"}),"\n",(0,s.jsx)(e.h3,{id:"\u4e00\u5bf9\u591a\u5173\u7cfb-one-to-many",children:"\u4e00\u5bf9\u591a\u5173\u7cfb (One-to-Many)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-graphql",children:'"\u7528\u6237"\r\ntype User {\r\n    "ID"\r\n    id: ID\r\n    "\u59d3\u540d"\r\n    name: String!\r\n    "\u7ec4"\r\n    group: Group @map(from: "groupId", to: "id")\r\n}\r\n\r\n"\u7ec4"\r\ntype Group {\r\n    "ID"\r\n    id: ID\r\n    "\u540d\u79f0"\r\n    name: String!\r\n    "\u7528\u6237"\r\n    users: [User] @map(from: "id", to: "groupId")\r\n}\n'})}),"\n",(0,s.jsx)(e.mermaid,{value:"flowchart LR\r\n    subgraph Group\r\n      groupId[id]\r\n      groupName[name]\r\n    end\r\n    subgraph User2\r\n      user2Id[id]\r\n      user2Name[name]\r\n      user2GroupId[groupId]\r\n    end\r\n    subgraph User1\r\n      user1Id[id]\r\n      user1Name[name]\r\n      user1GroupId[groupId]\r\n    end\r\n    groupId <-- \u6620\u5c04 --\x3e user1GroupId & user2GroupId"}),"\n",(0,s.jsx)(e.h3,{id:"\u591a\u5bf9\u591a\u5173\u7cfb-many-to-many",children:"\u591a\u5bf9\u591a\u5173\u7cfb (Many-to-Many)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-graphql",children:'"\u7528\u6237"\r\ntype User {\r\n    "ID"\r\n    id: ID\r\n    "\u59d3\u540d"\r\n    name: String!\r\n    "\u89d2\u8272"\r\n    roles: [Role] @map(from: "id", with: {type: "RoleUserRelation", to: "roleRef", from: "userRef"}, to: "id")\r\n}\r\n\r\n"\u89d2\u8272"\r\ntype Role {\r\n    "ID"\r\n    id: ID\r\n    "\u540d\u79f0"\r\n    name: String!\r\n    "\u7528\u6237"\r\n    users: [User] @map(from: "id", with: {type: "RoleUserRelation", to: "userRef", from: "roleRef"}, to: "id")\r\n}\n'})}),"\n",(0,s.jsx)(e.mermaid,{value:"flowchart LR\r\n    subgraph User2\r\n      user2Id[id]\r\n      user2Name[name]\r\n      user2GroupId[groupId]\r\n    end\r\n    subgraph User1\r\n      user1Id[id]\r\n      user1Name[name]\r\n      user1GroupId[groupId]\r\n    end\r\n    subgraph RoleUserRelation2\r\n      roleUserRelation2UserRef[userRef]\r\n      roleUserRelation2RoleRef[roleRef]\r\n    end\r\n    subgraph RoleUserRelation1\r\n      roleUserRelation1UserRef[userRef]\r\n      roleUserRelation1RoleRef[roleRef]\r\n    end\r\n    subgraph Role2\r\n      role2Id[id]\r\n      role2Name[name]\r\n    end\r\n    subgraph Role1\r\n      role1Id[id]\r\n      role1Name[name]\r\n    end\r\n    user2Id <-- \u6620\u5c04 --\x3e roleUserRelation2UserRef\r\n    roleUserRelation2RoleRef <-- \u6620\u5c04 --\x3e role2Id\r\n    user1Id <-- \u6620\u5c04 --\x3e roleUserRelation1UserRef\r\n    roleUserRelation1RoleRef <-- \u6620\u5c04 --\x3e role1Id"}),"\n",(0,s.jsx)(e.h3,{id:"\u81ea\u5f15\u7528\u5173\u7cfb-self-referencing",children:"\u81ea\u5f15\u7528\u5173\u7cfb (Self-Referencing)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-graphql",children:'"\u7ec4"\r\ntype Group {\r\n    "ID"\r\n    id: ID\r\n    "\u540d\u79f0"\r\n    name: String!\r\n    "\u4e0a\u7ea7"\r\n    parent: Group @map(from: "parentId", to: "id", anchor: true)\r\n    "\u4e0b\u7ea7"\r\n    subGroups: [Group] @map(from: "id", to: "parentId")\r\n}\n'})}),"\n",(0,s.jsx)(e.mermaid,{value:"flowchart LR\r\n    subgraph Group1\r\n      group1Id[id]\r\n      group1Name[name]\r\n    end\r\n    subgraph Group3\r\n      group3Id[id]\r\n      group3Name[name]\r\n      group3ParentId[parentId]\r\n    end\r\n    subgraph Group2\r\n      group2Id[id]\r\n      group2Name[name]\r\n      group2ParentId[parentId]\r\n    end\r\n    group1Id <-- \u6620\u5c04 --\x3e group2ParentId & group3ParentId"})]})}function c(r={}){const{wrapper:e}={...(0,l.R)(),...r.components};return e?(0,s.jsx)(e,{...r,children:(0,s.jsx)(a,{...r})}):a(r)}},5710:(r,e,n)=>{n.d(e,{R:()=>i,x:()=>t});var s=n(758);const l={},d=s.createContext(l);function i(r){const e=s.useContext(d);return s.useMemo((function(){return"function"==typeof r?r(e):{...e,...r}}),[e,r])}function t(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(l):r.components||l:i(r.components),s.createElement(d.Provider,{value:e},r.children)}}}]);