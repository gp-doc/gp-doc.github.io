"use strict";(self.webpackChunkgp_doc_github_io=self.webpackChunkgp_doc_github_io||[]).push([[7312],{9319:(r,n,e)=>{e.r(n),e.d(n,{assets:()=>p,contentTitle:()=>t,default:()=>l,frontMatter:()=>a,metadata:()=>s,toc:()=>g});var o=e(6070),i=e(5710);const a={sidebar_position:1},t="\u5fae\u670d\u52a1",s={id:"distributed/microservices",title:"\u5fae\u670d\u52a1",description:"\u5fae\u670d\u52a1\u67b6\u6784\uff08Microservices Architecture\uff09\u662f\u4e00\u79cd\u5c06\u5355\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5206\u89e3\u4e3a\u591a\u4e2a\u72ec\u7acb\u90e8\u7f72\u7684\u5c0f\u670d\u52a1\u7684\u67b6\u6784\u6a21\u5f0f, \u6bcf\u4e2a\u670d\u52a1\u4e13\u6ce8\u4e8e\u7279\u5b9a\u7684\u4e1a\u52a1\u529f\u80fd, \u5177\u6709\u9ad8\u5185\u805a\u548c\u677e\u8026\u5408\u7684\u7279\u70b9. \u5b83\u5141\u8bb8\u5404\u4e2a\u670d\u52a1\u72ec\u7acb\u5f00\u53d1, \u90e8\u7f72\u548c\u6269\u5c55, \u652f\u6301\u7075\u6d3b\u7684\u6280\u672f\u9009\u578b, \u63d0\u9ad8\u7cfb\u7edf\u7684\u5f39\u6027\u548c\u6269\u5c55\u6027. \u7136\u800c\u5fae\u670d\u52a1\u67b6\u6784\u4e5f\u5e26\u6765\u4e86\u7cfb\u7edf\u590d\u6742\u6027\u589e\u52a0, \u8fd0\u7ef4\u6210\u672c\u9ad8, \u901a\u4fe1\u5f00\u9500\u5927\u548c\u6570\u636e\u4e00\u81f4\u6027\u4fdd\u969c\u96be\u7b49\u6311\u6218",source:"@site/docs/distributed/microservices.md",sourceDirName:"distributed",slug:"/distributed/microservices",permalink:"/docs/distributed/microservices",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\u5206\u5e03\u5f0f",permalink:"/docs/category/\u5206\u5e03\u5f0f"},next:{title:"gRPC",permalink:"/docs/distributed/grpc"}},p={},g=[{value:"\u670d\u52a1\u62c6\u5206",id:"\u670d\u52a1\u62c6\u5206",level:2},{value:"\u6a21\u5757\u548c\u670d\u52a1",id:"\u6a21\u5757\u548c\u670d\u52a1",level:3},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"protobuf \u63d2\u4ef6",id:"protobuf-\u63d2\u4ef6",level:3},{value:"\u6a21\u5757(package)\u4f9d\u8d56",id:"\u6a21\u5757package\u4f9d\u8d56",level:3},{value:"\u670d\u52a1(app)\u4f9d\u8d56",id:"\u670d\u52a1app\u4f9d\u8d56",level:3},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1",id:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1",level:3},{value:"\u914d\u7f6e\u6a21\u5757\u5730\u5740",id:"\u914d\u7f6e\u6a21\u5757\u5730\u5740",level:3},{value:"Gossip",id:"gossip",level:2},{value:"\u5b89\u88c5 Gossip \u4f9d\u8d56",id:"\u5b89\u88c5-gossip-\u4f9d\u8d56",level:3},{value:"\u914d\u7f6e Gossip \u7aef\u53e3",id:"\u914d\u7f6e-gossip-\u7aef\u53e3",level:3},{value:"\u914d\u7f6e\u79cd\u5b50\u8282\u70b9",id:"\u914d\u7f6e\u79cd\u5b50\u8282\u70b9",level:3},{value:"\u4e8b\u52a1\u8865\u507f",id:"\u4e8b\u52a1\u8865\u507f",level:2},{value:"\u5fae\u670d\u52a1\u542f\u52a8",id:"\u5fae\u670d\u52a1\u542f\u52a8",level:2},{value:"\u670d\u52a1\u5408\u5e76",id:"\u670d\u52a1\u5408\u5e76",level:2},{value:"\u914d\u7f6e\u672c\u5730\u6a21\u5757",id:"\u914d\u7f6e\u672c\u5730\u6a21\u5757",level:3},{value:"\u5355\u4f53\u670d\u52a1\u542f\u52a8",id:"\u5355\u4f53\u670d\u52a1\u542f\u52a8",level:2},{value:"\u67e5\u8be2\u548c\u53d8\u66f4",id:"\u67e5\u8be2\u548c\u53d8\u66f4",level:2},{value:"<em>\u672c\u8282\u793a\u4f8b</em>",id:"\u672c\u8282\u793a\u4f8b",level:2}];function c(r){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...r.components},{Details:a}=n;return a||function(r,n){throw new Error("Expected "+(n?"component":"object")+" `"+r+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"\u5fae\u670d\u52a1",children:"\u5fae\u670d\u52a1"}),"\n",(0,o.jsxs)(n.p,{children:["\u5fae\u670d\u52a1\u67b6\u6784\uff08",(0,o.jsx)(n.a,{href:"https://microservices.io/",children:"Microservices Architecture"}),"\uff09\u662f\u4e00\u79cd\u5c06\u5355\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5206\u89e3\u4e3a\u591a\u4e2a\u72ec\u7acb\u90e8\u7f72\u7684\u5c0f\u670d\u52a1\u7684\u67b6\u6784\u6a21\u5f0f, \u6bcf\u4e2a\u670d\u52a1\u4e13\u6ce8\u4e8e\u7279\u5b9a\u7684\u4e1a\u52a1\u529f\u80fd, \u5177\u6709\u9ad8\u5185\u805a\u548c\u677e\u8026\u5408\u7684\u7279\u70b9. \u5b83\u5141\u8bb8\u5404\u4e2a\u670d\u52a1\u72ec\u7acb\u5f00\u53d1, \u90e8\u7f72\u548c\u6269\u5c55, \u652f\u6301\u7075\u6d3b\u7684\u6280\u672f\u9009\u578b, \u63d0\u9ad8\u7cfb\u7edf\u7684\u5f39\u6027\u548c\u6269\u5c55\u6027. \u7136\u800c\u5fae\u670d\u52a1\u67b6\u6784\u4e5f\u5e26\u6765\u4e86\u7cfb\u7edf\u590d\u6742\u6027\u589e\u52a0, \u8fd0\u7ef4\u6210\u672c\u9ad8, \u901a\u4fe1\u5f00\u9500\u5927\u548c\u6570\u636e\u4e00\u81f4\u6027\u4fdd\u969c\u96be\u7b49\u6311\u6218"]}),"\n",(0,o.jsxs)(n.p,{children:["Graphoenix \u5168\u9762\u652f\u6301\u5fae\u670d\u52a1\u67b6\u6784, \u63d0\u4f9b\u670d\u52a1\u6ce8\u518c, \u7f51\u5173, \u7194\u65ad, \u8d1f\u8f7d\u5747\u8861, ",(0,o.jsx)(n.a,{href:"#%E4%BA%8B%E5%8A%A1%E8%A1%A5%E5%81%BF",children:"\u4e8b\u52a1\u8865\u507f"}),"\u7b49\u5168\u5957\u7684\u5fae\u670d\u52a1\u89e3\u51b3\u65b9\u6848. \u7cfb\u7edf\u901a\u8fc7\u4e0d\u540c\u7684\u5305\u540d(Package Name)\u6765\u533a\u5206\u6a21\u5757, \u6bcf\u4e2a\u6a21\u5757\u53ef\u4ee5\u72ec\u7acb\u63d0\u4f9b\u670d\u52a1, \u901a\u8fc7 gRPC \u7b49\u901a\u8baf\u534f\u8bae\u6784\u6210\u5fae\u670d\u52a1\u77e9\u9635, \u4e5f\u53ef\u4ee5\u4e0e\u5176\u4ed6\u6a21\u5757\u5408\u5e76\u4e3a\u5355\u4f53\u67b6\u6784\u63d0\u4f9b\u670d\u52a1"]}),"\n",(0,o.jsx)(n.mermaid,{value:"flowchart LR\r\n    subgraph \u7f16\u8bd1\u65f6\r\n        pkg1([\u6a21\u57571])\r\n        pkg2([\u6a21\u57572])\r\n        pkg3([\u6a21\u57573])\r\n    end\r\n    pkg1 -.-> mono1\r\n    pkg2 -.-> mono2\r\n    pkg3 -.-> mono3\r\n    pkg1 -.-> micro1\r\n    pkg2 -.-> micro2\r\n    pkg3 -.-> micro3\r\n    subgraph \u5355\u4f53\u8fd0\u884c\u65f6\r\n        mono1{{jar1}}\r\n        mono2{{jar2}}\r\n        mono3{{jar3}}\r\n        mono1 <-. invoke .-> mono2\r\n        mono2 <-. invoke .-> mono3\r\n    end\r\n    subgraph \u5fae\u670d\u52a1\u8fd0\u884c\u65f6\r\n        micro1{{\u5fae\u670d\u52a11}}\r\n        micro2{{\u5fae\u670d\u52a12}}\r\n        micro3{{\u5fae\u670d\u52a13}}\r\n        micro1 <-. gRPC .-> micro2\r\n        micro2 <-. gRPC .-> micro3\r\n    end\r\n    subgraph \u6570\u636e\u5e93\r\n        db1[(MySQL)]\r\n        db2[(Postgre)]\r\n        db3[(MongoDB)]\r\n    end\r\n    \u5355\u4f53\u8fd0\u884c\u65f6 --\x3e db1\r\n    micro1 --\x3e db3\r\n    micro2 --\x3e db2\r\n    micro3 --\x3e db1"}),"\n",(0,o.jsx)(n.h2,{id:"\u670d\u52a1\u62c6\u5206",children:"\u670d\u52a1\u62c6\u5206"}),"\n",(0,o.jsx)(n.p,{children:"\u5fae\u670d\u52a1\u7684\u62c6\u5206\u662f\u5c06\u4e00\u4e2a\u5355\u4f53\u5e94\u7528\u5206\u89e3\u4e3a\u591a\u4e2a\u72ec\u7acb\u90e8\u7f72\u7684\u5c0f\u670d\u52a1, \u6bcf\u4e2a\u670d\u52a1\u4e13\u6ce8\u4e8e\u7279\u5b9a\u4e1a\u52a1\u529f\u80fd. \u901a\u8fc7\u9886\u57df\u9a71\u52a8\u8bbe\u8ba1(DDD), \u4e1a\u52a1\u529f\u80fd\u5212\u5206, \u72ec\u7acb\u6570\u636e\u5e93, \u72ec\u7acb\u90e8\u7f72\u548c\u670d\u52a1\u901a\u4fe1, \u5b9e\u73b0\u66f4\u597d\u7684\u9694\u79bb\u548c\u72ec\u7acb\u6027"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f8b: \u6211\u4eec\u5c06",(0,o.jsx)(n.a,{href:"/docs/tutorial/quick-start",children:"\u5feb\u901f\u5f00\u59cb"}),"\u4e2d\u7684",(0,o.jsx)(n.a,{href:"/docs/tutorial/quick-start#1-%E5%AE%9A%E4%B9%89-graphql",children:"\u8ba2\u5355\u7cfb\u7edf"}),"\u62c6\u5206\u4e3a\u8ba2\u5355(demo.gp.order), \u7528\u6237(demo.gp.user), \u8bc4\u8bba(demo.gp.review)\u4e09\u4e2a\u5b50\u7cfb\u7edf"]}),"\n",(0,o.jsx)(n.h3,{id:"\u6a21\u5757\u548c\u670d\u52a1",children:"\u6a21\u5757\u548c\u670d\u52a1"}),"\n",(0,o.jsx)(n.p,{children:"\u9879\u76ee\u6309\u7167\u529f\u80fd\u5206\u4e3a\u6a21\u5757(package)\u548c\u670d\u52a1(app), \u670d\u52a1\u4f5c\u4e3a\u6a21\u5757\u7684\u8f7d\u4f53, \u6309\u7167\u4e0d\u540c\u7684\u7ec4\u5408\u65b9\u5f0f\u6784\u5efa\u5355\u4f53\u67b6\u6784\u6216\u5fae\u670d\u52a1\u77e9\u9635:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"app(package1 + package2 + package3) = monolithic"}),"\n",(0,o.jsx)(n.li,{children:"app1(package1) + app2(package2) + app3(package3) = microservices"}),"\n"]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"\u9879\u76ee\u7ed3\u6784"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"|-- order-microservices\r\n    |-- build.gradle\r\n    |-- gradle.properties\r\n    |-- settings.gradle\r\n    |-- order-app                               \u8ba2\u5355\u7cfb\u7edf\r\n    |   |-- build.gradle\r\n    |   |-- src\r\n    |       |-- main\r\n    |           |-- java\r\n    |           |   |-- demo.gp.order\r\n    |           |       |-- App.java\r\n    |           |-- resources\r\n    |               |-- application.conf\r\n    |-- order-package                           \u8ba2\u5355\u6a21\u5757\r\n    |   |-- build.gradle\r\n    |   |-- src\r\n    |       |-- main\r\n    |           |-- java\r\n    |           |   |-- demo.gp.order\r\n    |           |       |-- package-info.java\r\n    |           |-- resources\r\n    |               |-- graphql\r\n    |                   |-- order.gql           \u5b9a\u4e49\u8ba2\u5355\u76f8\u5173\u7c7b\u578b\r\n    |-- review-app                              \u8bc4\u8bba\u7cfb\u7edf\r\n    |   |-- build.gradle\r\n    |   |-- src\r\n    |       |-- main\r\n    |           |-- java\r\n    |           |   |-- demo.gp.review\r\n    |           |       |-- App.java\r\n    |           |-- resources\r\n    |               |-- application.conf\r\n    |-- review-package                          \u8bc4\u8bba\u6a21\u5757\r\n    |   |-- build.gradle\r\n    |   |-- src\r\n    |       |-- main\r\n    |           |-- java\r\n    |           |   |-- demo.gp.review\r\n    |           |       |-- package-info.java\r\n    |           |-- resources\r\n    |               |-- graphql\r\n    |                   |-- review.gql          \u5b9a\u4e49\u8bc4\u8bba\u76f8\u5173\u7c7b\u578b\r\n    |-- user-app                                \u7528\u6237\u7cfb\u7edf\r\n    |   |-- build.gradle\r\n    |   |-- src\r\n    |       |-- main\r\n    |           |-- java\r\n    |           |   |-- demo.gp.user\r\n    |           |       |-- App.java\r\n    |           |-- resources\r\n    |               |-- application.conf\r\n    |-- user-package                            \u7528\u6237\u6a21\u5757\r\n        |-- build.gradle\r\n        |-- src\r\n            |-- main\r\n                |-- java\r\n                |   |-- demo.gp.user\r\n                |       |-- package-info.java\r\n                |-- resources\r\n                    |-- graphql\r\n                        |-- user.gql            \u5b9a\u4e49\u7528\u6237\u76f8\u5173\u7c7b\u578b\n"})})]}),"\n",(0,o.jsx)(n.mermaid,{value:'flowchart LR\r\n    subgraph order-app\r\n      subgraph demo.gp.order\r\n        order["// order.gql\r\n        &quot;\u4ea7\u54c1&quot;\r\n        type Product {\r\n        &emsp;&quot;\u4ea7\u54c1ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u4ea7\u54c1\u540d\u79f0&quot;\r\n        &emsp;name: String!\r\n        &emsp;&quot;\u5b9a\u4ef7&quot;\r\n        &emsp;price: Float!\r\n        &emsp;&quot;\u8bc4\u8bba\u5217\u8868&quot;\r\n        &emsp;reviews: [Review!]\r\n        }\r\n\r\n        &quot;\u8ba2\u5355&quot;\r\n        type Order {\r\n        &emsp;&quot;\u8ba2\u5355ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u8d2d\u4e70\u7528\u6237&quot;\r\n        &emsp;user: User!\r\n        &emsp;&quot;\u4ea7\u54c1\u5217\u8868&quot;\r\n        &emsp;items: [OrderItem!]!\r\n        }\r\n\r\n        &quot;\u8ba2\u5355\u9879&quot;\r\n        type OrderItem {\r\n        &emsp;&quot;\u8ba2\u5355\u9879ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u4ea7\u54c1&quot;\r\n        &emsp;product: Product!\r\n        &emsp;&quot;\u8d2d\u4e70\u6570\u91cf&quot;\r\n        &emsp;quantity: Int!\r\n        }"]\r\n      end\r\n    end\r\n    subgraph review-app\r\n      subgraph demo.gp.review\r\n        review["// review.gql\r\n        &quot;\u8bc4\u8bba&quot;\r\n        type Review {\r\n        &emsp;&quot;\u8bc4\u8bbaID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u8bc4\u8bba\u5185\u5bb9&quot;\r\n        &emsp;content: String\r\n        &emsp;&quot;\u8bc4\u5206&quot;\r\n        &emsp;rating: Float!\r\n        &emsp;&quot;\u8bc4\u8bba\u4eba&quot;\r\n        &emsp;user: User!\r\n        }"]\r\n      end\r\n    end\r\n    subgraph user-app\r\n      subgraph demo.gp.user\r\n        user["// user.gql\r\n        &quot;\u7528\u6237&quot;\r\n        type User {\r\n        &emsp;&quot;\u7528\u6237ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u7528\u6237\u540d&quot;\r\n        &emsp;name: String!\r\n        &emsp;&quot;\u7535\u5b50\u90ae\u7bb1&quot;\r\n        &emsp;email: String\r\n        &emsp;&quot;\u8054\u7cfb\u65b9\u5f0f&quot;\r\n        &emsp;phoneNumbers: [String!]\r\n        &emsp;&quot;\u7528\u6237\u7c7b\u578b&quot;\r\n        &emsp;userType: UserType!\r\n        }\r\n\r\n        &quot;\u7528\u6237\u7c7b\u578b&quot;\r\n        enum UserType {\r\n        &emsp;&quot;\u666e\u901a\u7528\u6237&quot;\r\n        &emsp;REGULAR\r\n        &emsp;&quot;\u4f1a\u5458&quot;\r\n        &emsp;VIP\r\n        }"]\r\n      end\r\n    end\r\n    user -. \u5f15\u7528 .-> review\r\n    review -. \u5f15\u7528 .-> order\r\n    user -. \u5f15\u7528 .-> order\r\n    style order text-align:left\r\n    style review text-align:left\r\n    style user text-align:left'}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u7528\u6237\u6a21\u5757\u4e2d\u5b9a\u4e49\u7528\u6237(User)\u548c\u7528\u6237\u7c7b\u578b(UserType)"}),"\n",(0,o.jsx)(n.li,{children:"\u8bc4\u8bba\u6a21\u5757\u4e2d\u5b9a\u4e49\u8bc4\u8bba(Review), \u8bc4\u8bba\u7684\u8bc4\u8bba\u4eba\u5b57\u6bb5(user)\u5f15\u7528\u7528\u6237\u6a21\u5757\u7684\u7528\u6237(User)"}),"\n",(0,o.jsx)(n.li,{children:"\u8ba2\u5355\u6a21\u5757\u4e2d\u5b9a\u4e49\u8ba2\u5355(Order)\u548c\u4ea7\u54c1(Product), \u8ba2\u5355\u7684\u8d2d\u4e70\u7528\u6237\u5b57\u6bb5(user)\u5f15\u7528\u7528\u6237\u6a21\u5757\u7684\u7528\u6237(User), \u4ea7\u54c1\u7684\u8bc4\u8bba\u5217\u8868\u5b57\u6bb5(reviews)\u5f15\u7528\u8bc4\u8bba\u6a21\u5757\u7684\u8bc4\u8bba(Review)"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,o.jsx)(n.h3,{id:"protobuf-\u63d2\u4ef6",children:"protobuf \u63d2\u4ef6"}),"\n",(0,o.jsx)(n.p,{children:"\u6a21\u5757\u4e4b\u95f4\u9ed8\u8ba4\u4f7f\u7528 gRPC \u8fdb\u884c\u901a\u8baf, \u9700\u8981\u5f15\u7528\u63d2\u4ef6\u751f\u6210 protobuf \u6587\u4ef6"}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"user-package"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"buildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n}\r\n\r\nplugins {\r\n    id 'java'\r\n    // highlight-start\r\n    id 'com.google.protobuf' version '0.9.1'\r\n    // highlight-end\r\n    id \"org.graphoenix\" version \"0.1.1\"\r\n}\r\n\r\nclasses.dependsOn {\r\n    generateGraphQLSource\r\n    // highlight-start\r\n    generateProtobufV3\r\n    // highlight-end\r\n}\n"})}),(0,o.jsx)(n.p,{children:"\u751f\u6210 DTO \u548c protobuf"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"./gradlew :user-package:build\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"review-package"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"buildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n}\r\n\r\nplugins {\r\n    id 'java'\r\n    // highlight-start\r\n    id 'com.google.protobuf' version '0.9.1'\r\n    // highlight-end\r\n    id \"org.graphoenix\" version \"0.1.1\"\r\n}\r\n\r\nclasses.dependsOn {\r\n    generateGraphQLSource\r\n    // highlight-start\r\n    generateProtobufV3\r\n    // highlight-end\r\n}\n"})}),(0,o.jsx)(n.p,{children:"\u751f\u6210 DTO \u548c protobuf"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"./gradlew :review-package:build\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"order-package"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"buildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n}\r\n\r\nplugins {\r\n    id 'java'\r\n    // highlight-start\r\n    id 'com.google.protobuf' version '0.9.1'\r\n    // highlight-end\r\n    id \"org.graphoenix\" version \"0.1.1\"\r\n}\r\n\r\nclasses.dependsOn {\r\n    generateGraphQLSource\r\n    // highlight-start\r\n    generateProtobufV3\r\n    // highlight-end\r\n}\n"})}),(0,o.jsx)(n.p,{children:"\u751f\u6210 DTO \u548c protobuf"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"./gradlew :order-package:build\n"})})]}),"\n",(0,o.jsx)(n.h3,{id:"\u6a21\u5757package\u4f9d\u8d56",children:"\u6a21\u5757(package)\u4f9d\u8d56"}),"\n",(0,o.jsx)(n.p,{children:"\u5b89\u88c5\u548c\u914d\u7f6e gRPC, \u5f15\u7528\u5176\u4ed6\u6a21\u5757"}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"user-package"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"// highlight-start\r\n// gRPC \u914d\u7f6e\r\nprotobuf {\r\n    protoc {\r\n        artifact = 'com.google.protobuf:protoc:3.21.7'\r\n    }\r\n    plugins {\r\n        grpc {\r\n            artifact = 'io.grpc:protoc-gen-grpc-java:1.52.1'\r\n        }\r\n        reactor {\r\n            artifact = 'com.salesforce.servicelibs:reactor-grpc:1.2.3'\r\n        }\r\n    }\r\n    generateProtoTasks {\r\n        all()*.plugins {\r\n            grpc {}\r\n            reactor {}\r\n        }\r\n    }\r\n}\r\n// highlight-end\r\n\r\n// highlight-start\r\n// gRPC \u76ee\u5f55\u914d\u7f6e\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs 'build/generated/source/proto/main/java'\r\n            srcDirs 'build/generated/source/proto/main/grpc'\r\n            srcDirs 'build/generated/source/proto/main/reactor'\r\n        }\r\n    }\r\n}\r\n// highlight-end\r\n\r\ndependencies {\r\n    // highlight-start\r\n    // \u5f15\u7528\u6838\u5fc3\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    // highlight-end\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    // highlight-start\r\n    // gRPC \u4f9d\u8d56\r\n    runtimeOnly 'io.grpc:grpc-netty-shaded:1.52.1'\r\n    implementation 'io.grpc:grpc-protobuf:1.52.1'\r\n    implementation 'io.grpc:grpc-stub:1.52.1'\r\n    implementation 'com.salesforce.servicelibs:reactor-grpc-stub:1.2.3'\r\n\r\n    compileOnly 'org.apache.tomcat:annotations-api:6.0.53' // necessary for Java 9+\r\n    // highlight-end\r\n\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-async:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    // highlight-start\r\n    // \u5f15\u7528\u6838\u5fc3\r\n    protobuf 'org.graphoenix:graphoenix-core:0.1.0'\r\n    // highlight-end\r\n\r\n    testImplementation platform('org.junit:junit-bom:5.9.1')\r\n    testImplementation 'org.junit.jupiter:junit-jupiter'\r\n}\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"review-package"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"// highlight-start\r\n// gRPC \u914d\u7f6e\r\nprotobuf {\r\n    protoc {\r\n        artifact = 'com.google.protobuf:protoc:3.21.7'\r\n    }\r\n    plugins {\r\n        grpc {\r\n            artifact = 'io.grpc:protoc-gen-grpc-java:1.52.1'\r\n        }\r\n        reactor {\r\n            artifact = 'com.salesforce.servicelibs:reactor-grpc:1.2.3'\r\n        }\r\n    }\r\n    generateProtoTasks {\r\n        all()*.plugins {\r\n            grpc {}\r\n            reactor {}\r\n        }\r\n    }\r\n}\r\n// highlight-end\r\n\r\n// highlight-start\r\n// gRPC \u76ee\u5f55\u914d\u7f6e\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs 'build/generated/source/proto/main/java'\r\n            srcDirs 'build/generated/source/proto/main/grpc'\r\n            srcDirs 'build/generated/source/proto/main/reactor'\r\n        }\r\n    }\r\n}\r\n// highlight-end\r\n\r\ndependencies {\r\n    // highlight-start\r\n    // \u5f15\u7528\u6838\u5fc3\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    // \u5f15\u7528 User \u6a21\u5757\r\n    implementation project(':user-package')\r\n    // highlight-end\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    // highlight-start\r\n    // gRPC \u4f9d\u8d56\r\n    runtimeOnly 'io.grpc:grpc-netty-shaded:1.52.1'\r\n    implementation 'io.grpc:grpc-protobuf:1.52.1'\r\n    implementation 'io.grpc:grpc-stub:1.52.1'\r\n    implementation 'com.salesforce.servicelibs:reactor-grpc-stub:1.2.3'\r\n\r\n    compileOnly 'org.apache.tomcat:annotations-api:6.0.53' // necessary for Java 9+\r\n    // highlight-end\r\n\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    // highlight-start\r\n    // \u5f15\u7528 User \u6a21\u5757\r\n    annotationProcessor project(':user-package')\r\n    // highlight-end\r\n    annotationProcessor 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-async:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    // highlight-start\r\n    // \u5f15\u7528\u6838\u5fc3\r\n    protobuf 'org.graphoenix:graphoenix-core:0.1.0'\r\n    // \u5f15\u7528 User \u6a21\u5757\r\n    protobuf project(':user-package')\r\n    // highlight-end\r\n\r\n    testImplementation platform('org.junit:junit-bom:5.9.1')\r\n    testImplementation 'org.junit.jupiter:junit-jupiter'\r\n}\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"order-package"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"// highlight-start\r\n// gRPC \u914d\u7f6e\r\nprotobuf {\r\n    protoc {\r\n        artifact = 'com.google.protobuf:protoc:3.21.7'\r\n    }\r\n    plugins {\r\n        grpc {\r\n            artifact = 'io.grpc:protoc-gen-grpc-java:1.52.1'\r\n        }\r\n        reactor {\r\n            artifact = 'com.salesforce.servicelibs:reactor-grpc:1.2.3'\r\n        }\r\n    }\r\n    generateProtoTasks {\r\n        all()*.plugins {\r\n            grpc {}\r\n            reactor {}\r\n        }\r\n    }\r\n}\r\n// highlight-end\r\n\r\n// highlight-start\r\n// gRPC \u76ee\u5f55\u914d\u7f6e\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs 'build/generated/source/proto/main/java'\r\n            srcDirs 'build/generated/source/proto/main/grpc'\r\n            srcDirs 'build/generated/source/proto/main/reactor'\r\n        }\r\n    }\r\n}\r\n// highlight-end\r\n\r\ndependencies {\r\n    // highlight-start\r\n    // \u5f15\u7528\u6838\u5fc3\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    // \u5f15\u7528 User \u6a21\u5757\r\n    implementation project(':user-package')\r\n    // \u5f15\u7528 Review \u6a21\u5757\r\n    implementation project(':review-package')\r\n    // highlight-end\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    // highlight-start\r\n    // gRPC \u4f9d\u8d56\r\n    runtimeOnly 'io.grpc:grpc-netty-shaded:1.52.1'\r\n    implementation 'io.grpc:grpc-protobuf:1.52.1'\r\n    implementation 'io.grpc:grpc-stub:1.52.1'\r\n    implementation 'com.salesforce.servicelibs:reactor-grpc-stub:1.2.3'\r\n\r\n    compileOnly 'org.apache.tomcat:annotations-api:6.0.53' // necessary for Java 9+\r\n    // highlight-end\r\n\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    // highlight-start\r\n    // \u5f15\u7528 User \u6a21\u5757\r\n    annotationProcessor project(':user-package')\r\n    // \u5f15\u7528 Review \u6a21\u5757\r\n    annotationProcessor project(':review-package')\r\n    // highlight-end\r\n    annotationProcessor 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-async:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    // highlight-start\r\n    // \u5f15\u7528\u6838\u5fc3\r\n    protobuf 'org.graphoenix:graphoenix-core:0.1.0'\r\n    // \u5f15\u7528 User \u6a21\u5757\r\n    protobuf project(':user-package')\r\n    // \u5f15\u7528 Review \u6a21\u5757\r\n    protobuf project(':review-package')\r\n    // highlight-end\r\n\r\n    testImplementation platform('org.junit:junit-bom:5.9.1')\r\n    testImplementation 'org.junit.jupiter:junit-jupiter'\r\n}\n"})})]}),"\n",(0,o.jsx)(n.h3,{id:"\u670d\u52a1app\u4f9d\u8d56",children:"\u670d\u52a1(app)\u4f9d\u8d56"}),"\n",(0,o.jsx)(n.p,{children:"\u5f15\u7528\u6a21\u5757, \u5b89\u88c5\u670d\u52a1\u4f9d\u8d56"}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"user-app"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\r\n    // highlight-start\r\n    // User \u6a21\u5757\r\n    implementation project(':user-package')\r\n    // highlight-end\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-r2dbc:0.1.0'\r\n    // highlight-start\r\n    // Http \u670d\u52a1\r\n    implementation 'org.graphoenix:graphoenix-http-server:0.1.1'\r\n    // gRPC \u670d\u52a1\r\n    implementation 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    // highlight-end\r\n\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\r\n\r\n    // highlight-start\r\n    // User \u6a21\u5757\r\n    annotationProcessor project(':user-package')\r\n    // highlight-end\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-sql:0.1.0'\r\n    // highlight-start\r\n    // gRPC \u670d\u52a1\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    // highlight-end\r\n}\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"review-app"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\r\n    // highlight-start\r\n    // User \u6a21\u5757\r\n    implementation project(':user-package')\r\n    // Review \u6a21\u5757\r\n    implementation project(':review-package')\r\n    // highlight-end\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-r2dbc:0.1.0'\r\n    // highlight-start\r\n    // Http \u670d\u52a1\r\n    implementation 'org.graphoenix:graphoenix-http-server:0.1.1'\r\n    // gRPC \u670d\u52a1\r\n    implementation 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\r\n    implementation 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n    // highlight-end\r\n\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\r\n\r\n    // highlight-start\r\n    // Review \u6a21\u5757\r\n    annotationProcessor project(':review-package')\r\n    // highlight-end\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-sql:0.1.0'\r\n    // highlight-start\r\n    // gRPC \u670d\u52a1\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n    // highlight-end\r\n}\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"order-app"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\r\n    // highlight-start\r\n    // User \u6a21\u5757\r\n    implementation project(':user-package')\r\n    // Review \u6a21\u5757\r\n    implementation project(':review-package')\r\n    // Order \u6a21\u5757\r\n    implementation project(':order-package')\r\n    // highlight-end\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-r2dbc:0.1.0'\r\n    // highlight-start\r\n    // Http \u670d\u52a1\r\n    implementation 'org.graphoenix:graphoenix-http-server:0.1.1'\r\n    // gRPC \u670d\u52a1\r\n    implementation 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\r\n    implementation 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n    // highlight-end\r\n\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n\r\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\r\n\r\n    // highlight-start\r\n    // Order \u6a21\u5757\r\n    annotationProcessor project(':order-package')\r\n    // highlight-end\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-sql:0.1.0'\r\n    // highlight-start\r\n    // gRPC \u670d\u52a1\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    // gRPC \u5ba2\u6237\u7aef, \u8c03\u7528\u5176\u4ed6\u6a21\u5757\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n    // highlight-end\r\n}\n"})})]}),"\n",(0,o.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,o.jsx)(n.h3,{id:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1",children:"\u914d\u7f6e\u6570\u636e\u5e93\u548c\u670d\u52a1"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="user-app/src/main/resources/application.conf"',children:'r2dbc {\r\n  driver = "mariadb"\r\n  database = "user"\r\n  user = "root"\r\n  password = "root"\r\n}\r\nhttp {\r\n  port = 8082   //Http \u7aef\u53e3\r\n}\r\ngrpc {\r\n  port = 50053  //gRPC \u7aef\u53e3\r\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="review-app/src/main/resources/application.conf"',children:'r2dbc {\r\n  driver = "mariadb"\r\n  database = "review"\r\n  user = "root"\r\n  password = "root"\r\n}\r\nhttp {\r\n  port = 8081   //Http \u7aef\u53e3\r\n}\r\ngrpc {\r\n  port = 50052  //gRPC \u7aef\u53e3\r\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="order-app/src/main/resources/application.conf"',children:'r2dbc {\r\n  driver = "mariadb"\r\n  database = "order"\r\n  user = "root"\r\n  password = "root"\r\n}\r\nhttp {\r\n  port = 8080   //Http \u7aef\u53e3\r\n}\r\ngrpc {\r\n  port = 50051  //gRPC \u7aef\u53e3\r\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u914d\u7f6e\u6a21\u5757\u5730\u5740",children:"\u914d\u7f6e\u6a21\u5757\u5730\u5740"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"package.members"})," \u914d\u7f6e\u6bcf\u4e2a\u6a21\u5757\u7684\u5730\u5740, \u6bcf\u4e2a\u6a21\u5757\u90fd\u53ef\u4ee5\u63d0\u4f9b\u591a\u4e2a\u670d\u52a1\u4f5c\u4e3a\u5197\u4f59"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="review-app/src/main/resources/application.conf"',children:'package {\r\n  members: {"demo.gp.user": [{host: "127.0.0.1", port: 50053, protocol: "GRPC"}]}\r\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="order-app/src/main/resources/application.conf"',children:'package {\r\n  members: {"demo.gp.review": [{host: "127.0.0.1", port: 50052, protocol: "GRPC"}], "demo.gp.user": [{host: "127.0.0.1", port: 50053, protocol: "GRPC"}]}\r\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"gossip",children:"Gossip"}),"\n",(0,o.jsxs)(n.p,{children:["\u968f\u7740\u9879\u76ee\u89c4\u6a21\u7684\u53d1\u5c55, \u5fae\u670d\u52a1\u8282\u70b9\u9010\u6b65\u589e\u957f, \u9700\u8981\u5f15\u5165\u4e00\u79cd\u81ea\u52a8\u6ce8\u518c\u673a\u5236\u6765\u66ff\u4ee3\u624b\u52a8\u914d\u7f6e. Graphoenix \u4f7f\u7528 ",(0,o.jsx)(n.a,{href:"https://icyfenix.cn/distribution/consensus/gossip.html",children:"Gossip"})," \u534f\u8bae\u8fdb\u884c\u670d\u52a1\u53d1\u73b0. ",(0,o.jsx)(n.a,{href:"https://icyfenix.cn/distribution/consensus/gossip.html",children:"Gossip"})," \u534f\u8bae\u662f\u4e00\u79cd\u7528\u4e8e\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u4fe1\u606f\u4f20\u64ad\u548c\u6570\u636e\u4e00\u81f4\u6027\u7684\u534f\u8bae, \u5177\u6709\u53bb\u4e2d\u5fc3\u5316, \u5bb9\u9519\u6027\u5f3a, \u6e10\u8fdb\u4e00\u81f4\u6027\u548c\u6613\u6269\u5c55\u7b49\u7279\u6027, \u662f\u786e\u4fdd\u8282\u70b9\u95f4\u4fe1\u606f\u540c\u6b65\u548c\u4e00\u81f4\u6027\u7684\u5173\u952e\u6280\u672f"]}),"\n",(0,o.jsx)(n.h3,{id:"\u5b89\u88c5-gossip-\u4f9d\u8d56",children:"\u5b89\u88c5 Gossip \u4f9d\u8d56"}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"user-app"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\r\n    implementation project(':user-package')\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-r2dbc:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-http-server:0.1.1'\r\n    implementation 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n    // highlight-start\r\n    implementation 'org.graphoenix:graphoenix-gossip:0.1.0'\r\n    // highlight-end\r\n\r\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\r\n\r\n    annotationProcessor project(':user-package')\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-sql:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    // highlight-start\r\n    annotationProcessor 'org.graphoenix:graphoenix-gossip:0.1.0'\r\n    // highlight-end\r\n}\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"review-app"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\r\n    implementation project(':review-package')\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-r2dbc:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-http-server:0.1.1'\r\n    implementation 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    implementation 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n    // highlight-start\r\n    implementation 'org.graphoenix:graphoenix-gossip:0.1.0'\r\n    // highlight-end\r\n\r\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\r\n\r\n    annotationProcessor project(':review-package')\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-sql:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n    // highlight-start\r\n    annotationProcessor 'org.graphoenix:graphoenix-gossip:0.1.0'\r\n    // highlight-end\r\n}\n"})})]}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"order-app"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-gradle",metastring:'title="build.gradle"',children:"dependencies {\r\n    implementation project(':order-package')\r\n    implementation 'org.graphoenix:graphoenix-core:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-r2dbc:0.1.0'\r\n    implementation 'org.graphoenix:graphoenix-http-server:0.1.1'\r\n    implementation 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    implementation 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n\r\n    implementation 'org.graphoenix:nozdormu-inject:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-async:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-interceptor:0.1.0'\r\n    implementation 'org.graphoenix:nozdormu-config:0.1.0'\r\n    // highlight-start\r\n    implementation 'org.graphoenix:graphoenix-gossip:0.1.0'\r\n    // highlight-end\r\n\r\n    implementation 'org.mariadb:r2dbc-mariadb:1.1.4'\r\n\r\n    annotationProcessor project(':order-package')\r\n    annotationProcessor 'org.graphoenix:graphoenix-annotation-processor:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-sql:0.1.0'\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-server:0.1.1'\r\n    annotationProcessor 'org.graphoenix:graphoenix-grpc-client:0.1.0'\r\n    // highlight-start\r\n    annotationProcessor 'org.graphoenix:graphoenix-gossip:0.1.0'\r\n    // highlight-end\r\n}\n"})})]}),"\n",(0,o.jsx)(n.h3,{id:"\u914d\u7f6e-gossip-\u7aef\u53e3",children:"\u914d\u7f6e Gossip \u7aef\u53e3"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="user-app/src/main/resources/application.conf"',children:"gossip {\r\n  port = 3000\r\n}\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="review-app/src/main/resources/application.conf"',children:"gossip {\r\n  port = 3001\r\n}\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="order-app/src/main/resources/application.conf"',children:"gossip {\r\n  port = 3002\r\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u914d\u7f6e\u79cd\u5b50\u8282\u70b9",children:"\u914d\u7f6e\u79cd\u5b50\u8282\u70b9"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"package.members.seeds"})," \u914d\u7f6e\u79cd\u5b50\u8282\u70b9, \u6240\u6709\u8282\u70b9\u90fd\u4f1a\u4ece\u79cd\u5b50\u8282\u70b9\u5f00\u59cb\u4ea4\u6362\u4fe1\u606f"]}),"\n",(0,o.jsx)(n.p,{children:"\u4f8b: \u4f7f\u7528\u7528\u6237\u6a21\u5757(demo.gp.user)\u8282\u70b9\u4f5c\u4e3a\u79cd\u5b50\u8282\u70b9"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="review-app/src/main/resources/application.conf"',children:'package {\r\n  //  members: {"demo.gp.user": [{host: "127.0.0.1", port: 50053, protocol: "GRPC"}]}\r\n  // highlight-start\r\n  members: {seeds: [{host: "127.0.0.1", port: 3000}]}\r\n  // highlight-end\r\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="order-app/src/main/resources/application.conf"',children:'package {\r\n  //  members: {"demo.gp.review": [{host: "127.0.0.1", port: 50052, protocol: "GRPC"}], "demo.gp.user": [{host: "127.0.0.1", port: 50053, protocol: "GRPC"}]}\r\n  // highlight-start\r\n  members: {seeds: [{host: "127.0.0.1", port: 3000}]}\r\n  // highlight-end\r\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u4e8b\u52a1\u8865\u507f",children:"\u4e8b\u52a1\u8865\u507f"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u5fae\u670d\u52a1\u67b6\u6784\u4e0b, Graphoenix \u901a\u8fc7\u4e8b\u52a1\u8865\u507f(",(0,o.jsx)(n.a,{href:"https://www.thebyte.com.cn/distributed-system/TCC.html",children:"TCC"}),")\u4fdd\u6301\u6570\u636e\u4e00\u81f4\u6027."]}),"\n",(0,o.jsx)(n.mermaid,{value:"flowchart LR\r\n    micro1{{\u5fae\u670d\u52a11}}\r\n    micro2{{\u5fae\u670d\u52a12}}\r\n    micro3{{\u5fae\u670d\u52a13}}\r\n    success1(\u6210\u529f)\r\n    success2(\u6210\u529f)\r\n    success3(\u6210\u529f)\r\n    error1(\u5f02\u5e38)\r\n    error2(\u5f02\u5e38)\r\n    error3(\u5f02\u5e38)\r\n    db1[(MySQL)]\r\n    db2[(Postgre)]\r\n    db3[(MongoDB)]\r\n    error1 == \u4e8b\u52a1\u8865\u507f ==> micro2 & micro3\r\n    micro1 -- \u8c03\u7528 --\x3e micro2 --\x3e success2\r\n    micro2 -.-> error2 -. \u56de\u6eda .-> db2\r\n    error2 -.-> error1\r\n\r\n    micro1 -.-> error1 -. \u56de\u6eda .-> db1\r\n    micro1 --\x3e success1 -- \u63d0\u4ea4 --\x3e db1\r\n\r\n    success2 -- \u8c03\u7528 --\x3e micro3 --\x3e success3 -- \u63d0\u4ea4 --\x3e db3\r\n    success2 -- \u63d0\u4ea4 --\x3e db2\r\n    micro3 -.-> error3 -. \u56de\u6eda .-> db3\r\n    error3 -.-> error1"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"mutation.compensatingTransaction"})," \u914d\u7f6e\u5f00\u542f\u4e8b\u52a1\u8865\u507f"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",children:"mutation {\r\n  compensatingTransaction = true\r\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u5fae\u670d\u52a1\u542f\u52a8",children:"\u5fae\u670d\u52a1\u542f\u52a8"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Run/Debug user-app/src/main/java/demo/gp/user/App.java"}),"\n",(0,o.jsx)(n.li,{children:"Run/Debug review-app/src/main/java/demo/gp/review/App.java"}),"\n",(0,o.jsx)(n.li,{children:"Run/Debug order-app/src/main/java/demo/gp/order/App.java"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"start",src:e(9361).A+"",title:"start",width:"1000",height:"538"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"\u670d\u52a1\u5408\u5e76",children:"\u670d\u52a1\u5408\u5e76"}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u4e1a\u52a1\u6536\u7f29\u9636\u6bb5\u6216\u662f\u6d41\u91cf\u4f4e\u8c37\u65f6\u6bb5, \u591a\u4e2a\u6a21\u5757\u53ef\u4ee5\u5408\u5e76\u4e3a\u5355\u4e00\u670d\u52a1\u6765\u964d\u4f4e\u901a\u4fe1\u548c\u786c\u4ef6\u7b49\u6210\u672c"}),"\n",(0,o.jsx)(n.h3,{id:"\u914d\u7f6e\u672c\u5730\u6a21\u5757",children:"\u914d\u7f6e\u672c\u5730\u6a21\u5757"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"package.localPackageNames"})," \u914d\u7f6e\u672c\u5730\u6a21\u5757, \u672c\u5730\u6a21\u5757\u5c06\u548c\u5230\u4e3b\u6a21\u5757\u5408\u5e76\u5230\u540c\u4e00\u670d\u52a1\u4e2d"]}),"\n",(0,o.jsx)(n.p,{children:"\u4f8b: \u8ba2\u5355\u6a21\u5757(demo.gp.order)\u5f15\u5165\u8bc4\u8bba\u6a21\u5757(demo.gp.review)\u548c\u7528\u6237\u6a21\u5757(demo.gp.user)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",metastring:'title="order-app/src/main/resources/application.conf"',children:'package {\r\n  //  members: {"demo.gp.review": [{host: "127.0.0.1", port: 50052, protocol: "GRPC"}], "demo.gp.user": [{host: "127.0.0.1", port: 50053, protocol: "GRPC"}]}\r\n  //  members: {seeds: [{host: "127.0.0.1", port: 3080}]}\r\n  // highlight-start\r\n  localPackageNames = ["demo.gp.review", "demo.gp.user"]\r\n  // highlight-end\r\n}\n'})}),"\n",(0,o.jsx)(n.mermaid,{value:'flowchart TB\r\n    subgraph order-app\r\n      subgraph demo.gp.order\r\n        order["// order.gql\r\n        &quot;\u4ea7\u54c1&quot;\r\n        type Product {\r\n        &emsp;&quot;\u4ea7\u54c1ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u4ea7\u54c1\u540d\u79f0&quot;\r\n        &emsp;name: String!\r\n        &emsp;&quot;\u5b9a\u4ef7&quot;\r\n        &emsp;price: Float!\r\n        &emsp;&quot;\u8bc4\u8bba\u5217\u8868&quot;\r\n        &emsp;reviews: [Review!]\r\n        }\r\n\r\n        &quot;\u8ba2\u5355&quot;\r\n        type Order {\r\n        &emsp;&quot;\u8ba2\u5355ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u8d2d\u4e70\u7528\u6237&quot;\r\n        &emsp;user: User!\r\n        &emsp;&quot;\u4ea7\u54c1\u5217\u8868&quot;\r\n        &emsp;items: [OrderItem!]!\r\n        }\r\n\r\n        &quot;\u8ba2\u5355\u9879&quot;\r\n        type OrderItem {\r\n        &emsp;&quot;\u8ba2\u5355\u9879ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u4ea7\u54c1&quot;\r\n        &emsp;product: Product!\r\n        &emsp;&quot;\u8d2d\u4e70\u6570\u91cf&quot;\r\n        &emsp;quantity: Int!\r\n        }"]\r\n      end\r\n      subgraph demo.gp.review\r\n        review["// review.gql\r\n        &quot;\u8bc4\u8bba&quot;\r\n        type Review {\r\n        &emsp;&quot;\u8bc4\u8bbaID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u8bc4\u8bba\u5185\u5bb9&quot;\r\n        &emsp;content: String\r\n        &emsp;&quot;\u8bc4\u5206&quot;\r\n        &emsp;rating: Float!\r\n        &emsp;&quot;\u8bc4\u8bba\u4eba&quot;\r\n        &emsp;user: User!\r\n        }"]\r\n      end\r\n      subgraph demo.gp.user\r\n        user["// user.gql\r\n        &quot;\u7528\u6237&quot;\r\n        type User {\r\n        &emsp;&quot;\u7528\u6237ID&quot;\r\n        &emsp;id: ID!\r\n        &emsp;&quot;\u7528\u6237\u540d&quot;\r\n        &emsp;name: String!\r\n        &emsp;&quot;\u7535\u5b50\u90ae\u7bb1&quot;\r\n        &emsp;email: String\r\n        &emsp;&quot;\u8054\u7cfb\u65b9\u5f0f&quot;\r\n        &emsp;phoneNumbers: [String!]\r\n        &emsp;&quot;\u7528\u6237\u7c7b\u578b&quot;\r\n        &emsp;userType: UserType!\r\n        }\r\n\r\n        &quot;\u7528\u6237\u7c7b\u578b&quot;\r\n        enum UserType {\r\n        &emsp;&quot;\u666e\u901a\u7528\u6237&quot;\r\n        &emsp;REGULAR\r\n        &emsp;&quot;\u4f1a\u5458&quot;\r\n        &emsp;VIP\r\n        }"]\r\n      end\r\n    end\r\n    user -. \u5f15\u7528 .-> review\r\n    review -. \u5f15\u7528 .-> order\r\n    user -. \u5f15\u7528 .-> order\r\n    style order text-align:left\r\n    style review text-align:left\r\n    style user text-align:left'}),"\n",(0,o.jsx)(n.h2,{id:"\u5355\u4f53\u670d\u52a1\u542f\u52a8",children:"\u5355\u4f53\u670d\u52a1\u542f\u52a8"}),"\n",(0,o.jsx)(n.p,{children:"Run/Debug order-app/src/main/java/demo/gp/order/App.java"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"start",src:e(9361).A+"",title:"start",width:"1000",height:"538"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"\u67e5\u8be2\u548c\u53d8\u66f4",children:"\u67e5\u8be2\u548c\u53d8\u66f4"}),"\n",(0,o.jsx)(n.p,{children:"\u67b6\u6784\u7684\u5207\u6362\u4e0d\u4f1a\u5f71\u54cd\u67e5\u8be2\u548c\u53d8\u66f4\u7684\u4f7f\u7528, Graphoenix \u901a\u8fc7\u5e95\u5c42\u6280\u672f\u5c4f\u853d\u4e0d\u540c\u67b6\u6784\u7684\u5dee\u5f02, \u8ba9\u63a5\u53e3\u5c42\u7684\u8868\u73b0\u4fdd\u6301\u4e00\u81f4"}),"\n",(0,o.jsxs)(a,{children:[(0,o.jsx)("summary",{children:"\u6d4b\u8bd5\u6570\u636e"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-graphql",children:'mutation {\r\n  userList(\r\n    list: [\r\n      { id: "1", name: "Alice", email: "alice@example.com", userType: VIP }\r\n      { id: "2", name: "Bob", email: "bob@example.com", userType: REGULAR }\r\n      { id: "3", name: "Charlie", email: "charlie@example.com", userType: VIP }\r\n      { id: "4", name: "Diana", email: "diana@example.com", userType: REGULAR }\r\n      { id: "5", name: "Edward", email: "edward@example.com", userType: VIP }\r\n      { id: "6", name: "Fiona", email: "fiona@example.com", userType: REGULAR }\r\n      { id: "7", name: "George", email: "george@example.com", userType: VIP }\r\n      {\r\n        id: "8"\r\n        name: "Hannah"\r\n        email: "hannah@example.com"\r\n        userType: REGULAR\r\n      }\r\n      { id: "9", name: "Ian", email: "ian@example.com", userType: VIP }\r\n      { id: "10", name: "Jane", email: "jane@example.com", userType: REGULAR }\r\n      { id: "11", name: "Kyle", email: "kyle@example.com", userType: VIP }\r\n      { id: "12", name: "Laura", email: "laura@example.com", userType: REGULAR }\r\n      { id: "13", name: "Mike", email: "mike@example.com", userType: VIP }\r\n      { id: "14", name: "Nina", email: "nina@example.com", userType: REGULAR }\r\n      { id: "15", name: "Oliver", email: "oliver@example.com", userType: VIP }\r\n      { id: "16", name: "Paula", email: "paula@example.com", userType: REGULAR }\r\n      { id: "17", name: "Quentin", email: "quentin@example.com", userType: VIP }\r\n      {\r\n        id: "18"\r\n        name: "Rachel"\r\n        email: "rachel@example.com"\r\n        userType: REGULAR\r\n      }\r\n      { id: "19", name: "Steve", email: "steve@example.com", userType: VIP }\r\n      { id: "20", name: "Tina", email: "tina@example.com", userType: REGULAR }\r\n    ]\r\n  ) {\r\n    id\r\n  }\r\n  reviewList(\r\n    list: [\r\n      {\r\n        id: "1"\r\n        content: "Great laptop, very fast and reliable."\r\n        rating: 5\r\n        user: { where: { id: { val: "10" } } }\r\n      }\r\n      {\r\n        id: "2"\r\n        content: "Decent laptop but a bit expensive."\r\n        rating: 4\r\n        user: { where: { id: { val: "8" } } }\r\n      }\r\n      {\r\n        id: "3"\r\n        content: "The phone is amazing, camera quality is top-notch."\r\n        rating: 5\r\n        user: { where: { id: { val: "6" } } }\r\n      }\r\n      {\r\n        id: "4"\r\n        content: "Tablet is good for the price."\r\n        rating: 4\r\n        user: { where: { id: { val: "4" } } }\r\n      }\r\n    ]\r\n  ) {\r\n    id\r\n  }\r\n  productList(\r\n    list: [\r\n      {\r\n        id: "1"\r\n        name: "Laptop"\r\n        price: 999.99\r\n        reviews: [\r\n          { where: { id: { val: "1" } } }\r\n          { where: { id: { val: "2" } } }\r\n        ]\r\n      }\r\n      {\r\n        id: "2"\r\n        name: "Phone"\r\n        price: 499.99\r\n        reviews: [{ where: { id: { val: "3" } } }]\r\n      }\r\n      {\r\n        id: "3"\r\n        name: "Tablet"\r\n        price: 299.99\r\n        reviews: [{ where: { id: { val: "4" } } }]\r\n      }\r\n      { id: "4", name: "Monitor", price: 199.99 }\r\n      { id: "5", name: "Keyboard", price: 49.99 }\r\n    ]\r\n  ) {\r\n    id\r\n  }\r\n  orderList(\r\n    list: [\r\n      {\r\n        user: { where: { id: { val: "1" } } }\r\n        items: [\r\n          { product: { where: { id: { val: "1" } } }, quantity: 1 }\r\n          { product: { where: { id: { val: "3" } } }, quantity: 2 }\r\n        ]\r\n      }\r\n      {\r\n        user: { where: { id: { val: "2" } } }\r\n        items: [{ product: { where: { id: { val: "2" } } }, quantity: 1 }]\r\n      }\r\n      {\r\n        user: { where: { id: { val: "3" } } }\r\n        items: [\r\n          { product: { where: { id: { val: "4" } } }, quantity: 2 }\r\n          { product: { where: { id: { val: "5" } } }, quantity: 3 }\r\n        ]\r\n      }\r\n      {\r\n        user: { where: { id: { val: "4" } } }\r\n        items: [\r\n          { product: { where: { id: { val: "1" } } }, quantity: 1 }\r\n          { product: { where: { id: { val: "2" } } }, quantity: 1 }\r\n          { product: { where: { id: { val: "3" } } }, quantity: 1 }\r\n        ]\r\n      }\r\n    ]\r\n  ) {\r\n    id\r\n  }\r\n}\n'})})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u4f8b: \u67e5\u8be2\u7528\u6237 Alice \u7684\u8ba2\u5355"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-graphql",children:'{\r\n  orderList(user: { name: { val: "Alice" } }) {\r\n    items {\r\n      product {\r\n        name\r\n      }\r\n      quantity\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\r\n  "data": {\r\n    "orderList": [\r\n      {\r\n        "items": [\r\n          {\r\n            "product": {\r\n              "name": "Laptop"\r\n            },\r\n            "quantity": 1\r\n          },\r\n          {\r\n            "product": {\r\n              "name": "Tablet"\r\n            },\r\n            "quantity": 2\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"\u4f8b: \u67e5\u8be2\u8bc4\u4ef7 4 \u5206\u4ee5\u4e0a\u7684\u4ea7\u54c1"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-graphql",children:"{\r\n  productList(reviews: { rating: { opr: GT, val: 4 } }) {\r\n    name\r\n    price\r\n    reviews {\r\n      content\r\n      rating\r\n      user {\r\n        name\r\n      }\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\r\n  "data": {\r\n    "productList": [\r\n      {\r\n        "name": "Laptop",\r\n        "price": 999.99,\r\n        "reviews": [\r\n          {\r\n            "content": "Great laptop, very fast and reliable.",\r\n            "rating": 5,\r\n            "user": {\r\n              "name": "Jane"\r\n            }\r\n          },\r\n          {\r\n            "content": "Decent laptop but a bit expensive.",\r\n            "rating": 4,\r\n            "user": {\r\n              "name": "Hannah"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        "name": "Phone",\r\n        "price": 499.99,\r\n        "reviews": [\r\n          {\r\n            "content": "The phone is amazing, camera quality is top-notch.",\r\n            "rating": 5,\r\n            "user": {\r\n              "name": "Fiona"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"\u4f8b: \u540c\u65f6\u65b0\u589e\u4ea7\u54c1, \u8bc4\u8bba\u548c\u7528\u6237"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-graphql",children:'mutation {\r\n  product(\r\n    name: "Mouse"\r\n    price: 25.99\r\n    reviews: [\r\n      {\r\n        content: "Been using this mouse for quite some time with no concerns. "\r\n        rating: 4\r\n        user: { name: "Victor", userType: VIP }\r\n      }\r\n    ]\r\n  ) {\r\n    name\r\n    price\r\n    reviews {\r\n      content\r\n      rating\r\n      user {\r\n        name\r\n        userType\r\n      }\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\r\n  "data": {\r\n    "product": {\r\n      "name": "Mouse",\r\n      "price": 25.99,\r\n      "reviews": [\r\n        {\r\n          "content": "Been using this mouse for quite some time with no concerns. ",\r\n          "rating": 4,\r\n          "user": {\r\n            "name": "Victor",\r\n            "userType": "VIP"\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u672c\u8282\u793a\u4f8b",children:(0,o.jsx)(n.em,{children:"\u672c\u8282\u793a\u4f8b"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://github.com/doukai/order-microservices",children:"https://github.com/doukai/order-microservices"})})]})}function l(r={}){const{wrapper:n}={...(0,i.R)(),...r.components};return n?(0,o.jsx)(n,{...r,children:(0,o.jsx)(c,{...r})}):c(r)}},9361:(r,n,e)=>{e.d(n,{A:()=>o});const o=e.p+"assets/images/start-69447b15a5555c64556d832b2ac62a0b.png"},5710:(r,n,e)=>{e.d(n,{R:()=>t,x:()=>s});var o=e(758);const i={},a=o.createContext(i);function t(r){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof r?r(n):{...n,...r}}),[n,r])}function s(r){let n;return n=r.disableParentContext?"function"==typeof r.components?r.components(i):r.components||i:t(r.components),o.createElement(a.Provider,{value:n},r.children)}}}]);